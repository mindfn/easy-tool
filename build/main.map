{"version":3,"sources":["webpack:///webpack/bootstrap 1c8e5466b033bcfa790c","webpack:///./common/constants/index.ts","webpack:///./server/constant/index.ts","webpack:///./server/utils/index.ts","webpack:///./common/constants/type.ts","webpack:///external \"dotenv\"","webpack:///./server/database/models/index.ts","webpack:///external \"fs\"","webpack:///external \"moment\"","webpack:///external \"mongoose\"","webpack:///external \"path\"","webpack:///./server/database/models/option.ts","webpack:///./nuxt.config.js","webpack:///external \"formidable\"","webpack:///./server/express/services/i18n.excel.upload.service.ts","webpack:///external \"node-xlsx\"","webpack:///external \"properties\"","webpack:///./server/express/services/i18n.excel.download.service.ts","webpack:///./server/express/services/i18n.json.download.service.ts","webpack:///external \"archiver\"","webpack:///./server/express/services/i18n.properties.download.service.ts","webpack:///./server/index.ts","webpack:///./server/database/index.ts","webpack:///./server/graphql/index.ts","webpack:///external \"graphql-yoga\"","webpack:///external \"graphql-import\"","webpack:///./server/database/models/user.model.ts","webpack:///./server/database/models/project.model.ts","webpack:///./common/constants/code.ts","webpack:///./common/constants/message.ts","webpack:///./server/database/models/i18n.model.ts","webpack:///./server/graphql/resolvers/index.ts","webpack:///./server/graphql/resolvers/user.resolver.ts","webpack:///./server/utils/grqphql.util.ts","webpack:///./server/utils/ldapjs.util.ts","webpack:///external \"ldapjs\"","webpack:///./server/utils/md5.util.ts","webpack:///external \"crypto\"","webpack:///./server/constant/graphql.constant.ts","webpack:///./server/constant/md5.constant.ts","webpack:///./server/constant/express.constant.ts","webpack:///./server/utils/file.util.ts","webpack:///external \"node-rsa\"","webpack:///./server/graphql/resolvers/project.resolver.ts","webpack:///./server/graphql/resolvers/static.resolver.ts","webpack:///./server/graphql/resolvers/i18n.resolver.ts","webpack:///./server/graphql/middlewares/index.ts","webpack:///./server/graphql/middlewares/auth.middleware.ts","webpack:///external \"express-session\"","webpack:///./node_modules/minimist/index.js","webpack:///external \"nuxt\"","webpack:///./server/express/routes/i18n.route.ts","webpack:///external \"express\"","webpack:///./server/express/controllers/i18n.sub.upload.controller.ts","webpack:///./server/express/services/i18n.json.upload.service.ts","webpack:///./server/express/services/i18n.properties.upload.service.ts","webpack:///./server/express/controllers/i18n.sup.upload.controller.ts","webpack:///./server/express/controllers/i18n.sub.download.controller.ts","webpack:///./server/express/controllers/i18n.sup.download.controller.ts","webpack:///./server/express/services/i18n.template.download.service.ts"],"names":["parseArgs","require","argv","process","slice","alias","H","p","string","unknown","parameter","module","exports","proxyHttp","head","title","meta","charset","name","content","hid","link","rel","type","href","loading","color","css","src","build","vendor","plugins","ssr","modules","router","middleware"],"mappings":";;;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;AC7DA;AACA;AACA;;;;;;;;;;;;;;;ACFA;AACA;AACA;;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;;;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,wBAAwB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;;;;;;ACrIL,mC;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACPA,+B;;;;;;ACAA,mC;;;;;;ACAA,qC;;;;;;ACAA,iC;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;;AChBA,MAAMA,YAAY,mBAAAC,CAAQ,EAAR,CAAlB;;AAGA,MAAMC,OAAOF,UAAUG,QAAQD,IAAR,CAAaE,KAAb,CAAmB,CAAnB,CAAV,EAAiC;AAC5CC,SAAO;AACLC,OAAG,UADE;AAELC,OAAG;AAFE,GADqC;AAK5CC,UAAQ,CAAC,GAAD,CALoC;AAM5CC,WAASC,aAAa;AANsB,CAAjC,CAAb;;AAUAC,OAAOC,OAAP,GAAiB;AACf;AACAC,aAAW,uBAFI;;AAIfC,QAAM;AACJC,WAAO,oBADH;AAEJC,UAAM,CACJ,EAAEC,SAAS,OAAX,EADI,EAEJ;AACEC,YAAM,UADR;AAEEC,eACE;AAHJ,KAFI,EAOJ;AACEC,WAAK,aADP;AAEEF,YAAM,aAFR;AAGEC,eAAS;AAHX,KAPI,CAFF;AAeJE,UAAM,CACJ;AACEC,WAAK,MADP;AAEEC,YAAM,cAFR;AAGEC,YAAM;AAHR,KADI;AAfF,GAJS;AA2Bf;;;AAGAC,WAAS,EAAEC,OAAO,SAAT,EA9BM;AA+Bf;;;AAGAC,OAAK,CAAC;AACJC,SAAI;AADA,GAAD,EAEF;AACDA,SAAI;AADH,GAFE,EAIF;AACDA,SAAK;AADJ,GAJE,CAlCU;AAyCfC,SAAO;AACLC,YAAQ,CACN,SADM,EAEN,OAFM,EAGN,sBAHM,EAIN,yCAJM,EAKN,cALM,EAMN,WANM;AADH,GAzCQ;;AAoDfC,WAAS,CACP,kBADO,EAEP,kBAFO,EAGP,EAACH,KAAK,wBAAN,EAAgCI,KAAK,KAArC,EAHO,CApDM;;AA0DfC,WAAS,CAAC,yBAAD,CA1DM;;AA4DfC,UAAQ;AACNC,gBAAY;AADN;AA5DO,CAAjB,C;;;;;;ACbA,uC;;;;;;;;;;;ACAA;AAAA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACsB;AACJ;AACY;AAC9B;AACoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,aAAa;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,WAAW,kBAAkB;AACvD,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,2GAA2G,yBAAyB;AACpI;AACA;AACA,2IAA2E,aAAa;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA,6CAA6C,sBAAsB,EAAE;AACrE,gDAAgD,kBAAkB,EAAE;AACpE,+CAA+C,mCAAmC,EAAE;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,mMAAmM,8CAA8C;AACjP;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,QAAQ,gBAAgB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,mMAAmM,8CAA8C;AACjP;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,QAAQ,gBAAgB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA;AACA,2GAA2G,yBAAyB;AACpI;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,wEAAwE,yCAAyC,EAAE;AACnH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,SAAS;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACnQA,sC;;;;;;ACAA,uC;;;;;;;;;;;;;;ACAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACsB;AACtB;AACoC;AAClB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2FAA2F,oBAAoB;AAC/G;AACA;AACA;AACA,uOAAuK,qCAAqC;AAC5M;AACA;AACA;AACA;AACA,mCAAmC,QAAQ,gBAAgB;AAC3D;AACA;AACA;AACA;AACA,iCAAiC,0BAA0B;AAC3D;AACA;AACA;AACA;AACA,2BAA2B,QAAQ,gBAAgB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA,mFAAsC,iCAAiC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AClEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACoC;AAClB;AAClB;AACA;AACiB;AACjB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2FAA2F,oBAAoB;AAC/G;AACA;AACA;AACA;AACA,iFAAiF,UAAU;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,QAAQ,gBAAgB;AAC3D;AACA;AACA;AACA;AACA,iCAAiC,0BAA0B;AAC3D;AACA;AACA;AACA,2BAA2B,QAAQ,gBAAgB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA,0EAA0E,UAAU;AACpF;AACA;AACA;AACA;AACA;AACA,2BAA2B,QAAQ,gBAAgB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD,iBAAiB;AACjB;AACA,4DAA4D,mCAAmC,EAAE;AACjG;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACjHA,qC;;;;;;;;;;;;;;;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACoC;AAClB;AAClB;AACA;AACiB;AACjB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2FAA2F,oBAAoB;AAC/G;AACA;AACA;AACA;AACA,iFAAiF,UAAU;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,QAAQ,gBAAgB;AAC3D;AACA;AACA;AACA;AACA,iCAAiC,0BAA0B;AAC3D;AACA;AACA;AACA,2BAA2B,QAAQ,gBAAgB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA,0EAA0E,UAAU;AACpF;AACA;AACA;AACA;AACA;AACA,2BAA2B,QAAQ,gBAAgB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD,iBAAiB;AACjB;AACA,4DAA4D,mCAAmC,EAAE;AACjG;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AClHA;AACA;AACA;AACwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACdA;AACA;AACA;AACA,4DAA2B,wBAAwB;AACnD;AACA,KAAK;AACL;;;;;;;;;;;;;;;;;;ACNA;AACuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA,KAAK,EAAE;AACP;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;;;;;;AC3CA,yC;;;;;;ACAA,2C;;;;;;;;;ACAA;AAAA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,aAAa,6DAAW;AACzB;AACA,KAAK,EAAE;AACP;AACA;AACA,CAAC;AACD;AACA;;;;;;;;;;;ACzBA;AAAA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,aAAa,6DAAW;AACzB;AACA;AACA,KAAK,EAAE;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC,aAAa;AACd;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;;;;;;;;;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,kCAAkC;;;;;;;;;ACRnC;AACA;AACA;;;;;;;;;;ACFA;AAAA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,CAAC,aAAa,6DAAW;AACzB;AACA;AACA,KAAK,EAAE;AACP;AACA;AACA,CAAC;AACD;AACA;;;;;;;;;;;ACrDA;AAAA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,sBAAsB;AACtB;AACA;;;;;;;;;;;AChBA;AAAA;AAAA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACmC;AACjB;AACI;AACtB;AACA;AACA;AACA;AACA,yCAAqC,SAAS;AAC9C,gBAAgB,4BAA4B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,qBAAqB;AACtE;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,yCAAyC,EAAE;AAC/G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACtJA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;;;;;ACnBA,mC;;;;;;;;;;;ACAA;AACc;AACd;AACA;AACA;;;;;;;ACJA,mC;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACpBA;AACA;AACA;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA,CAAC,kDAAkD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AC5GA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E,iBAAiB;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACxCA,qC;;;;;;;;;;ACAA;AAAA;AAAA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AAC0B;AACR;AACI;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,8BAA8B;AAClF;AACA;AACA;AACA;AACA,iEAAiE,SAAS,yHAAyH;AACnM;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,sBAAsB;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mGAAmG,oBAAoB;AACvH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sFAAsF,8DAA8D,EAAE;AACtJ;AACA;AACA;AACA,8EAA8E,8DAA8D,EAAE;AAC9I;AACA;AACA;AACA;AACA,uCAAuC,QAAQ,gBAAgB;AAC/D;AACA;AACA;AACA;AACA,qCAAqC,0BAA0B;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,eAAe,4CAA4C,EAAE;AACpG,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,mGAAmG,oBAAoB;AACvH;AACA;AACA;AACA;AACA,8EAA8E,8DAA8D,EAAE;AAC9I;AACA;AACA;AACA;AACA,uCAAuC,QAAQ,gBAAgB;AAC/D;AACA;AACA;AACA;AACA,qCAAqC,0BAA0B;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACnQA;AAAA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AAC0B;AACR;AACI;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uHAAuH,yBAAyB;AAChJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,QAAQ,gBAAgB;AAC/D;AACA;AACA;AACA;AACA,qCAAqC,0BAA0B;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uHAAuH,yBAAyB;AAChJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,QAAQ,gBAAgB;AAC/D;AACA;AACA;AACA;AACA,qCAAqC,0BAA0B;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gFAAgF,uCAAuC,EAAE;AACzH;AACA;AACA,2DAA2D,0BAA0B;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE,kCAAkC,EAAE;AAC7G,qDAAqD,qBAAqB;AAC1E;AACA;AACA;AACA;AACA,+IAAuF,aAAa,yBAAyB;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACzOA;AAAA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AAC0B;AACJ;AACJ;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,0BAA0B;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,wCAAwC,EAAE;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,mBAAmB;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACnJA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,MAAM,gBAAgB;AACzC;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA,4BAA4B,sBAAsB;AAClD;AACA;AACA;AACA;AACA;;;;;;;;ACtBA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA;AACA,wDAAwD;AACxD;AACA;AACA,KAAK;AACL,CAAC,EAAE;AACH;AACA;AACA;;;;;;;AC3CA,4C;;;;;;ACAA;AACA;;AAEA,iBAAiB,WAAW,cAAc;;AAE1C;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;;AAEA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,MAAM;;AAEN;;AAEA,gBAAgB;AAChB;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA,mBAAmB,iBAAiB;AACpC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,oBAAoB;AAC/C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB;AACzB,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;AC1OA,iC;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACZA,oC;;;;;;;;;;;;;;;;;ACAA;AAAA;AAAA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA;AACsB;AACiB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;yDACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,SAAS;AACT,KAAK,EAAE,EAAE;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,oFAAmD,aAAa,wCAAwC;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,EAAE,EAAE;AACjB;AACA,SAAS;AACT,KAAK;AACL;;;;;;;;;;AChPA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACsB;AACJ;AACkB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,6BAA6B,UAAU;AACvC;AACA;AACA;AACA,gFAAgF,UAAU;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,mMAAmM,8CAA8C;AACjP;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,QAAQ,gBAAgB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,mMAAmM,8CAA8C;AACjP;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,QAAQ,gBAAgB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA;AACA,2GAA2G,yBAAyB;AACpI;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACpKA;AAAA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACsB;AACJ;AACkB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gFAAgF,UAAU;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,mMAAmM,8CAA8C;AACjP;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,QAAQ,gBAAgB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,mMAAmM,8CAA8C;AACjP;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,QAAQ,gBAAgB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA;AACA,2GAA2G,yBAAyB;AACpI;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxLA;AAAA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACsB;AACiB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,4GAAiD,4BAA4B;AAC7E;AACA;AACA;AACA;AACA,iEAAiE,uBAAuB,EAAE;AAC1F;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uHAAuH,0BAA0B;AACjJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,+BAA+B;AAC/F;AACA;AACA,mCAAmC,QAAQ,gBAAgB;AAC3D;AACA;AACA;AACA;AACA,iCAAiC,0BAA0B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA,6BAA6B,0BAA0B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,SAAS;AACT,KAAK,EAAE,EAAE;AACT;;;;;;;;;;;;;AC1LA;AAAA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA;AACsB;AACc;AACpC;AACA;AACA;AACkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,KAAK;AACL;;;;;;;;;;;;;AClGA;AAAA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACoC;AACpC;AACA;AACA;AACsB;AACtB;AACkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4GAAiD,4BAA4B;AAC7E;AACA;AACA;AACA;AACA,uHAAuH,0BAA0B;AACjJ;AACA;AACA;AACA;AACA,mCAAmC,QAAQ,gBAAgB;AAC3D;AACA;AACA;AACA;AACA,iCAAiC,0BAA0B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,KAAK;AACL;;;;;;;;;;ACzHA;AACA;AACA;AACA","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 20);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1c8e5466b033bcfa790c","export * from './code';\r\nexport * from './message';\r\nexport * from './type';\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./common/constants/index.ts\n// module id = 0\n// module chunks = 0","export * from './graphql.constant';\r\nexport * from './md5.constant';\r\nexport * from './express.constant';\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/constant/index.ts\n// module id = 1\n// module chunks = 0","export * from './grqphql.util';\r\nexport * from './ldapjs.util';\r\nexport * from './md5.util';\r\nexport * from './file.util';\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/utils/index.ts\n// module id = 2\n// module chunks = 0","export var STATIC;\r\n(function (STATIC) {\r\n    STATIC[STATIC[\"I18N\"] = 0] = \"I18N\";\r\n    STATIC[STATIC[\"IMG\"] = 1] = \"IMG\";\r\n    STATIC[STATIC[\"ICON\"] = 2] = \"ICON\";\r\n    STATIC[STATIC[\"SKIN\"] = 3] = \"SKIN\";\r\n    STATIC[STATIC[\"DIST\"] = 4] = \"DIST\";\r\n})(STATIC || (STATIC = {}));\r\nexport var STATIC_ARR = [\r\n    STATIC.I18N,\r\n    STATIC.IMG,\r\n    STATIC.ICON,\r\n    STATIC.SKIN,\r\n    STATIC.DIST\r\n];\r\nexport var STATIC_VIEW = [{\r\n        label: '多语言',\r\n        value: STATIC.I18N,\r\n        color: 'blue300'\r\n    }, {\r\n        label: '图片',\r\n        value: STATIC.IMG,\r\n        color: 'red300'\r\n    }, {\r\n        label: '图标',\r\n        value: STATIC.ICON,\r\n        color: 'deepOrange300'\r\n    }, {\r\n        label: '皮肤',\r\n        value: STATIC.SKIN,\r\n        color: 'lightGreen300'\r\n    }, {\r\n        label: '前端包',\r\n        value: STATIC.DIST,\r\n        color: 'cyan300'\r\n    }];\r\nexport var STATIC_I18N_TABLE_COLUMNS = [\r\n    'resource',\r\n    'key',\r\n    'version',\r\n    'length',\r\n    'position',\r\n    'remark',\r\n    'chinese',\r\n    'english',\r\n    'russian',\r\n    'estonia',\r\n    'bulgarian',\r\n    'hungarian',\r\n    'greek',\r\n    'german',\r\n    'italian',\r\n    'czech',\r\n    'slovak',\r\n    'france',\r\n    'polish',\r\n    'dutch',\r\n    'portuguese',\r\n    'spanish',\r\n    'romanian',\r\n    'danish',\r\n    'swedish',\r\n    'norwegian',\r\n    'finnish',\r\n    'croatian',\r\n    'slovenian',\r\n    'serbian',\r\n    'turkish',\r\n    'korean',\r\n    'traditionalChinese',\r\n    'thai',\r\n    'vietnamese',\r\n    'japanese',\r\n    'hebrew',\r\n    'latvian',\r\n    'lithuanian',\r\n    'brazilianPortuguese',\r\n    'arabic',\r\n    'persian'\r\n];\r\nexport var STATIC_I18N_TABLE_TITLES = [\r\n    '来源',\r\n    '关键信息',\r\n    '版本',\r\n    '长度',\r\n    '位置',\r\n    '备注',\r\n    '简体中文',\r\n    '英文',\r\n    '俄语',\r\n    '爱沙尼亚语',\r\n    '保加利亚语',\r\n    '匈牙利语',\r\n    '希腊语',\r\n    '德语',\r\n    '意大利语',\r\n    '捷克语',\r\n    '斯洛伐克语',\r\n    '法语',\r\n    '波兰语',\r\n    '荷兰语',\r\n    '葡萄牙语',\r\n    '西班牙语',\r\n    '罗马尼亚语',\r\n    '丹麦语',\r\n    '瑞典语',\r\n    '挪威语',\r\n    '芬兰语',\r\n    '克罗地亚语',\r\n    '斯洛文尼亚语',\r\n    '塞尔维亚语',\r\n    '土耳其语',\r\n    '韩语',\r\n    '繁体中文',\r\n    '泰语',\r\n    '越南语',\r\n    '日语',\r\n    '希伯来语',\r\n    '拉脱维亚语',\r\n    '立陶宛语',\r\n    '巴西葡萄牙语',\r\n    '阿拉伯语',\r\n    '波斯语'\r\n];\r\nexport var STATIC_I18N_DOWNLOAD_TYPE = [{\r\n        label: 'xlsx',\r\n        value: 'xlsx'\r\n    }, {\r\n        label: 'json',\r\n        value: 'json'\r\n    }, {\r\n        label: 'properties',\r\n        value: 'properties'\r\n    }];\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./common/constants/type.ts\n// module id = 3\n// module chunks = 0","module.exports = require(\"dotenv\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dotenv\"\n// module id = 4\n// module chunks = 0","import User from './user.model';\r\nimport Project from './project.model';\r\nimport I18n from './i18n.model';\r\nexport default {\r\n    User: User,\r\n    Project: Project,\r\n    I18n: I18n\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/database/models/index.ts\n// module id = 5\n// module chunks = 0","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"moment\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"moment\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 9\n// module chunks = 0","export default {\r\n    autoIndex: false,\r\n    timestamps: {\r\n        createdAt: 'createTime',\r\n        updatedAt: 'updateTime'\r\n    },\r\n    toJSON: {\r\n        getters: true,\r\n        virtuals: true\r\n    },\r\n    toObject: {\r\n        getters: true,\r\n        virtuals: true\r\n    },\r\n    id: false,\r\n    minimize: false\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/database/models/option.ts\n// module id = 10\n// module chunks = 0","const parseArgs = require(\"minimist\")\r\n\r\n\r\nconst argv = parseArgs(process.argv.slice(2), {\r\n  alias: {\r\n    H: \"hostname\",\r\n    p: \"port\"\r\n  },\r\n  string: [\"H\"],\r\n  unknown: parameter => false\r\n})\r\n\r\n\r\nmodule.exports = {\r\n  // Web前端请求地址(注意开发态和生产态端口参考.env文件)\r\n  proxyHttp: 'http://localhost:4000',\r\n \r\n  head: {\r\n    title: \"nuxt-type-template\",\r\n    meta: [\r\n      { charset: \"utf-8\" },\r\n      {\r\n        name: \"viewport\",\r\n        content:\r\n          \"width=device-width, initial-scale=1\"\r\n      },\r\n      {\r\n        hid: \"description\",\r\n        name: \"description\",\r\n        content: \"Nuxt.js project\"\r\n      }\r\n    ],\r\n    link: [\r\n      {\r\n        rel: \"icon\",\r\n        type: \"image/x-icon\",\r\n        href: \"/favicon.ico\"\r\n      }\r\n    ]\r\n  },\r\n  /*\r\n  ** Customize the progress-bar color\r\n  */\r\n  loading: { color: \"#3B8070\" },\r\n  /*\r\n  ** Build configuration\r\n  */\r\n  css: [{\r\n    src:'~/assets/font-awesome-4.7.0/css/font-awesome.min.css'\r\n  }, {\r\n    src:'~/assets/style/scrollbar.css' \r\n  }, {\r\n    src: '~/assets/style/transition.css'\r\n  }],\r\n  build: {\r\n    vendor: [\r\n      'muse-ui', \r\n      'lokka', \r\n      'lokka-transport-http', \r\n      'muse-ui-toast/dist/muse-ui-toast.common',\r\n      'vuedraggable',\r\n      'jsencrypt'\r\n    ]\r\n  },\r\n\r\n  plugins: [\r\n    '~/plugins/museui', \r\n    '~/plugins/upload',\r\n    {src: '~/plugins/jsencrypt.ts', ssr: false}\r\n  ],\r\n\r\n  modules: [\"~/modules/typescript.js\"],\r\n\r\n  router: {\r\n    middleware: 'userAuth'\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js","module.exports = require(\"formidable\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"formidable\"\n// module id = 12\n// module chunks = 0","var __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar __values = (this && this.__values) || function (o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n};\r\nimport { COMMON_CODE } from '../../../common/constants';\r\nimport { EXPRESS } from '../../constant';\r\nimport { EXPRESS_UPLOAD_TYPE } from '../../constant';\r\nimport xlsx from 'node-xlsx';\r\nimport { STATIC_I18N_TABLE_COLUMNS } from '../../../common/constants/type';\r\nvar TRUE = COMMON_CODE.TRUE, ERROR = COMMON_CODE.ERROR;\r\nvar TEMP_EXCEL = EXPRESS.TEMP_EXCEL, RES = EXPRESS.RES;\r\nvar STATIC_I18N_TABLE_LANGUAGE_COLUMNS = STATIC_I18N_TABLE_COLUMNS.slice(7);\r\nexport default {\r\n    validateExcelFormat: function (i18nSheet) {\r\n        if (i18nSheet.length <= 1) {\r\n            return {\r\n                code: ERROR,\r\n                msg: RES.EXCEL_SHEET_EMPTY,\r\n                data: null\r\n            };\r\n        }\r\n        var caption = i18nSheet[0];\r\n        if (caption.length < TEMP_EXCEL.CAPTION.length) {\r\n            return {\r\n                code: ERROR,\r\n                msg: RES.EXCEL_CAPTION_ERR,\r\n                data: null\r\n            };\r\n        }\r\n        var resCaption = '';\r\n        var CAPTION = TEMP_EXCEL.CAPTION;\r\n        for (var index = 0, len = CAPTION.length; index < len; index++) {\r\n            var cap = CAPTION[index].trim();\r\n            if (cap !== caption[index].trim()) {\r\n                resCaption = \"excel\\u8868\\u5934\\u4FE1\\u606F\\u9519\\u8BEF\\uFF1A\\u7B2C\" + (index + 1) + \"\\u5217\\u7684\\u5185\\u5BB9\\u9519\\u8BEF, \\u5E94\\u4E3A\\\"\" + cap + \"\\\"\";\r\n                break;\r\n            }\r\n        }\r\n        if (resCaption) {\r\n            return {\r\n                code: ERROR,\r\n                msg: resCaption,\r\n                data: null\r\n            };\r\n        }\r\n        return {\r\n            code: TRUE,\r\n            msg: '',\r\n            data: null\r\n        };\r\n    },\r\n    processUploadExcel: function (file) {\r\n        var xlsxSheets = xlsx.parse(file.multExcel.path);\r\n        var i18nSheet = xlsxSheets[0].data;\r\n        var result = this.validateExcelFormat(i18nSheet);\r\n        if (result.code === ERROR) {\r\n            return result;\r\n        }\r\n        i18nSheet.shift();\r\n        return __assign({}, result, { data: i18nSheet });\r\n    },\r\n    transformExcelToArray: function (i18nExcelData, i18nStoreData, type) {\r\n        var e_1, _a;\r\n        var excelData = [];\r\n        var VERSION = 'version';\r\n        try {\r\n            for (var i18nExcelData_1 = __values(i18nExcelData), i18nExcelData_1_1 = i18nExcelData_1.next(); !i18nExcelData_1_1.done; i18nExcelData_1_1 = i18nExcelData_1.next()) {\r\n                var row = i18nExcelData_1_1.value;\r\n                var excelRowData = {};\r\n                for (var index = 0, len = STATIC_I18N_TABLE_COLUMNS.length; index < len; index++) {\r\n                    var col = row[index];\r\n                    if (!col)\r\n                        continue;\r\n                    var excelRowDataKey = STATIC_I18N_TABLE_COLUMNS[index];\r\n                    if (type === EXPRESS_UPLOAD_TYPE.COVER) {\r\n                        if (STATIC_I18N_TABLE_LANGUAGE_COLUMNS.includes(excelRowDataKey)) {\r\n                            return {\r\n                                code: ERROR,\r\n                                msg: RES.UPLOAD_SUB_OTHER_LANG,\r\n                                data: null\r\n                            };\r\n                        }\r\n                    }\r\n                    if (excelRowDataKey === VERSION\r\n                        && col !== i18nStoreData.i18nVersion) {\r\n                        return {\r\n                            code: ERROR,\r\n                            msg: \"\" + RES.UPLOAD_VERSION_ERR + i18nStoreData.i18nVersion + \"\\uFF01\",\r\n                            data: null\r\n                        };\r\n                    }\r\n                    excelRowData[STATIC_I18N_TABLE_COLUMNS[index]] = col;\r\n                    excelRowData['version'] = i18nStoreData.i18nVersion;\r\n                }\r\n                if (!Object.keys(excelRowData).length)\r\n                    continue;\r\n                excelData.push(excelRowData);\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (i18nExcelData_1_1 && !i18nExcelData_1_1.done && (_a = i18nExcelData_1.return)) _a.call(i18nExcelData_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        if (excelData.every(function (i18n) { return !i18n.chinese; })\r\n            || excelData.every(function (i18n) { return !i18n.key; })\r\n            || excelData.some(function (i18n) { return !i18n.key || !i18n.chinese; })) {\r\n            return {\r\n                code: ERROR,\r\n                msg: RES.UPLOAD_DATA_ERR,\r\n                data: null\r\n            };\r\n        }\r\n        return {\r\n            code: TRUE,\r\n            msg: '',\r\n            data: excelData\r\n        };\r\n    },\r\n    processSubReplaceI18nData: function (i18nUploadData, i18nStoreData) {\r\n        var e_2, _a;\r\n        var isTranslated = i18nStoreData.some(function (i18n) {\r\n            var e_3, _a;\r\n            try {\r\n                for (var STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1 = __values(STATIC_I18N_TABLE_LANGUAGE_COLUMNS), STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1_1 = STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1.next(); !STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1_1.done; STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1_1 = STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1.next()) {\r\n                    var key = STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1_1.value;\r\n                    if (!i18n[key])\r\n                        continue;\r\n                    return true;\r\n                }\r\n            }\r\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\r\n            finally {\r\n                try {\r\n                    if (STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1_1 && !STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1_1.done && (_a = STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1.return)) _a.call(STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1);\r\n                }\r\n                finally { if (e_3) throw e_3.error; }\r\n            }\r\n            return false;\r\n        });\r\n        var isCompletelyNew = true;\r\n        var _loop_1 = function (i18n) {\r\n            var e_4, _a;\r\n            var foundUploadData = i18nUploadData.find(function (upload) {\r\n                return upload.key === i18n.key && upload.chinese === i18n.chinese;\r\n            });\r\n            if (!foundUploadData)\r\n                return \"continue\";\r\n            isCompletelyNew = false;\r\n            if (!isTranslated)\r\n                return \"continue\";\r\n            try {\r\n                for (var STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2 = __values(STATIC_I18N_TABLE_LANGUAGE_COLUMNS), STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2_1 = STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2.next(); !STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2_1.done; STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2_1 = STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2.next()) {\r\n                    var key = STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2_1.value;\r\n                    if (!i18n[key])\r\n                        continue;\r\n                    foundUploadData[key] = i18n[key];\r\n                }\r\n            }\r\n            catch (e_4_1) { e_4 = { error: e_4_1 }; }\r\n            finally {\r\n                try {\r\n                    if (STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2_1 && !STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2_1.done && (_a = STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2.return)) _a.call(STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2);\r\n                }\r\n                finally { if (e_4) throw e_4.error; }\r\n            }\r\n        };\r\n        try {\r\n            for (var i18nStoreData_1 = __values(i18nStoreData), i18nStoreData_1_1 = i18nStoreData_1.next(); !i18nStoreData_1_1.done; i18nStoreData_1_1 = i18nStoreData_1.next()) {\r\n                var i18n = i18nStoreData_1_1.value;\r\n                _loop_1(i18n);\r\n            }\r\n        }\r\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n        finally {\r\n            try {\r\n                if (i18nStoreData_1_1 && !i18nStoreData_1_1.done && (_a = i18nStoreData_1.return)) _a.call(i18nStoreData_1);\r\n            }\r\n            finally { if (e_2) throw e_2.error; }\r\n        }\r\n        return isCompletelyNew\r\n            ? {\r\n                code: ERROR,\r\n                msg: RES.UPLOAD_COMPLETE_NEW,\r\n                data: null\r\n            }\r\n            : {\r\n                code: TRUE,\r\n                msg: '',\r\n                data: i18nUploadData\r\n            };\r\n    },\r\n    processPubReplaceI18nData: function (i18nUploadData, i18nStoreData) {\r\n        var uploadErrI18nData = [];\r\n        var _loop_2 = function (i, len) {\r\n            var i18nStore = i18nStoreData[i];\r\n            var index = i18nUploadData.findIndex(function (i18nUpload) { return i18nUpload.key === i18nStore.key; });\r\n            if (index === -1) {\r\n                return \"continue\";\r\n            }\r\n            var i18nFoundUploadData = i18nUploadData[index];\r\n            i18nFoundUploadData.chinese\r\n                ? i18nFoundUploadData.chinese === i18nStore.chinese\r\n                    ? i18nStoreData[i] = i18nFoundUploadData\r\n                    : uploadErrI18nData.push(i18nFoundUploadData)\r\n                : uploadErrI18nData.push(i18nFoundUploadData);\r\n        };\r\n        for (var i = 0, len = i18nStoreData.length; i < len; i++) {\r\n            _loop_2(i, len);\r\n        }\r\n        return {\r\n            uploadReplaceI18nData: i18nStoreData,\r\n            uploadErrI18nData: uploadErrI18nData\r\n        };\r\n    },\r\n    processReplaceI18nData: function (i18nExcelData, i18nStoreData, type) {\r\n        try {\r\n            var result = this.transformExcelToArray(i18nExcelData, i18nStoreData, type);\r\n            if (result.code === ERROR) {\r\n                return result;\r\n            }\r\n            i18nExcelData = result.data;\r\n            var i18nData = i18nStoreData.i18nData;\r\n            if (!i18nData) {\r\n                result.data = i18nExcelData;\r\n            }\r\n            else if (type === EXPRESS_UPLOAD_TYPE.COVER) {\r\n                result = this.processSubReplaceI18nData(i18nExcelData, JSON.parse(i18nData));\r\n            }\r\n            else {\r\n                result.data = this.processPubReplaceI18nData(i18nExcelData, JSON.parse(i18nData));\r\n            }\r\n            return result;\r\n        }\r\n        catch (err) {\r\n            console.error(err.message);\r\n            return {\r\n                code: ERROR,\r\n                msg: err.message,\r\n                data: null\r\n            };\r\n        }\r\n    }\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/express/services/i18n.excel.upload.service.ts\n// module id = 13\n// module chunks = 0","module.exports = require(\"node-xlsx\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"node-xlsx\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"properties\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"properties\"\n// module id = 15\n// module chunks = 0","var __values = (this && this.__values) || function (o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n};\r\nimport { COMMON_CODE } from '../../../common/constants';\r\nvar TRUE = COMMON_CODE.TRUE, ERROR = COMMON_CODE.ERROR;\r\nimport { STATIC_I18N_TABLE_COLUMNS } from '../../../common/constants/type';\r\nimport { EXPRESS } from '../../constant';\r\nvar moment = require('moment');\r\nimport xlsx from 'node-xlsx';\r\nimport * as fs from 'fs';\r\nimport * as path from 'path';\r\nexport default {\r\n    processDownloadExcel: function (i18nData, file, cb) {\r\n        var e_1, _a, e_2, _b;\r\n        try {\r\n            var xlsxData = [];\r\n            try {\r\n                for (var i18nData_1 = __values(i18nData), i18nData_1_1 = i18nData_1.next(); !i18nData_1_1.done; i18nData_1_1 = i18nData_1.next()) {\r\n                    var row = i18nData_1_1.value;\r\n                    var xlsxRowData = [];\r\n                    try {\r\n                        for (var STATIC_I18N_TABLE_COLUMNS_1 = __values(STATIC_I18N_TABLE_COLUMNS), STATIC_I18N_TABLE_COLUMNS_1_1 = STATIC_I18N_TABLE_COLUMNS_1.next(); !STATIC_I18N_TABLE_COLUMNS_1_1.done; STATIC_I18N_TABLE_COLUMNS_1_1 = STATIC_I18N_TABLE_COLUMNS_1.next()) {\r\n                            var key = STATIC_I18N_TABLE_COLUMNS_1_1.value;\r\n                            xlsxRowData.push(row[key] || '');\r\n                        }\r\n                    }\r\n                    catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n                    finally {\r\n                        try {\r\n                            if (STATIC_I18N_TABLE_COLUMNS_1_1 && !STATIC_I18N_TABLE_COLUMNS_1_1.done && (_b = STATIC_I18N_TABLE_COLUMNS_1.return)) _b.call(STATIC_I18N_TABLE_COLUMNS_1);\r\n                        }\r\n                        finally { if (e_2) throw e_2.error; }\r\n                    }\r\n                    xlsxData.push(xlsxRowData);\r\n                }\r\n            }\r\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n            finally {\r\n                try {\r\n                    if (i18nData_1_1 && !i18nData_1_1.done && (_a = i18nData_1.return)) _a.call(i18nData_1);\r\n                }\r\n                finally { if (e_1) throw e_1.error; }\r\n            }\r\n            xlsxData.unshift(EXPRESS.TEMP_EXCEL.CAPTION);\r\n            var buffer = xlsx.build([{ name: \"Sheet1\", data: xlsxData }]);\r\n            var downloadPath_1 = path.join(__dirname, \"/files/\" + (file || moment().format('YYYY-MM-DD-HH-mm-ss')) + \".xlsx\");\r\n            fs.writeFile(downloadPath_1, buffer, 'binary', function (err) {\r\n                if (err) {\r\n                    console.error(err.message);\r\n                    cb(ERROR, err.message, null);\r\n                }\r\n                cb(TRUE, '', downloadPath_1);\r\n            });\r\n        }\r\n        catch (err) {\r\n            console.error(err.message);\r\n            cb(ERROR, err.message, null);\r\n        }\r\n    }\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/express/services/i18n.excel.download.service.ts\n// module id = 16\n// module chunks = 0","var __values = (this && this.__values) || function (o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n};\r\nimport * as path from 'path';\r\nvar moment = require('moment');\r\nimport { STATIC_I18N_TABLE_COLUMNS } from '../../../common/constants/type';\r\nimport { EXPRESS } from '../../constant';\r\nimport * as fs from 'fs';\r\nvar archiver = require('archiver');\r\nimport { delDir } from '../../utils';\r\nvar STATIC_I18N_TABLE_LANGUAGE_COLUMNS = STATIC_I18N_TABLE_COLUMNS.slice(6);\r\nexport default {\r\n    processDownloadJson: function (i18nData, file, res) {\r\n        this.downloadAllLanguage(i18nData, file, res);\r\n    },\r\n    downloadAllLanguage: function (i18nData, file, res) {\r\n        var e_1, _a, e_2, _b, e_3, _c;\r\n        try {\r\n            var i18nDirPath_1 = path.join(__dirname, \"files/\" + moment().format('YYYY-MM-DD-HH-mm-ss'));\r\n            var zipDirPath_1 = path.join(__dirname, \"files/\" + moment().format('YYYY-MM-DD-HH-mm-ss') + \"temp\");\r\n            var i18n = {};\r\n            fs.mkdirSync(i18nDirPath_1);\r\n            fs.mkdirSync(zipDirPath_1);\r\n            try {\r\n                for (var i18nData_1 = __values(i18nData), i18nData_1_1 = i18nData_1.next(); !i18nData_1_1.done; i18nData_1_1 = i18nData_1.next()) {\r\n                    var row = i18nData_1_1.value;\r\n                    if (!row.key)\r\n                        continue;\r\n                    try {\r\n                        for (var _d = __values(Object.keys(row)), _e = _d.next(); !_e.done; _e = _d.next()) {\r\n                            var key = _e.value;\r\n                            if (!STATIC_I18N_TABLE_LANGUAGE_COLUMNS.includes(key))\r\n                                continue;\r\n                            i18n[key] = i18n[key] || {};\r\n                            var i18nFileDir = path.join(i18nDirPath_1, EXPRESS.I18N_FILE_NAMES[key]);\r\n                            if (!fs.existsSync(i18nFileDir)) {\r\n                                fs.mkdirSync(i18nFileDir);\r\n                                fs.writeFileSync(i18nFileDir + \"/README.md\", '');\r\n                                fs.writeFileSync(i18nFileDir + \"/\" + (file || 'index') + \".json\", '');\r\n                            }\r\n                            i18n[key][row.key] = row[key];\r\n                        }\r\n                    }\r\n                    catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n                    finally {\r\n                        try {\r\n                            if (_e && !_e.done && (_b = _d.return)) _b.call(_d);\r\n                        }\r\n                        finally { if (e_2) throw e_2.error; }\r\n                    }\r\n                }\r\n            }\r\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n            finally {\r\n                try {\r\n                    if (i18nData_1_1 && !i18nData_1_1.done && (_a = i18nData_1.return)) _a.call(i18nData_1);\r\n                }\r\n                finally { if (e_1) throw e_1.error; }\r\n            }\r\n            try {\r\n                for (var _f = __values(Object.keys(i18n)), _g = _f.next(); !_g.done; _g = _f.next()) {\r\n                    var language = _g.value;\r\n                    var languagePath = path.join(i18nDirPath_1, EXPRESS.I18N_FILE_NAMES[language] + \"/\" + (file || 'index') + \".json\");\r\n                    fs.writeFileSync(languagePath, JSON.stringify(i18n[language]));\r\n                }\r\n            }\r\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\r\n            finally {\r\n                try {\r\n                    if (_g && !_g.done && (_c = _f.return)) _c.call(_f);\r\n                }\r\n                finally { if (e_3) throw e_3.error; }\r\n            }\r\n            var archive = archiver('zip');\r\n            var time_1 = moment().format('YYYY-MM-DD-HH-mm-ss');\r\n            var zipPath_1 = path.join(zipDirPath_1, time_1 + \".zip\");\r\n            var output = fs.createWriteStream(zipPath_1);\r\n            var fsReadStream_1;\r\n            output.on('close', function () {\r\n                res.set({\r\n                    'Content-type': 'application/octet-stream',\r\n                    'Content-Disposition': 'attachment;filename=' + encodeURI(time_1 + \".zip\")\r\n                });\r\n                fsReadStream_1 = fs.createReadStream(zipPath_1);\r\n                fsReadStream_1.on('data', function (chunk) { return res.write(chunk, 'binary'); });\r\n                fsReadStream_1.on('end', function () {\r\n                    delDir(i18nDirPath_1);\r\n                    delDir(zipDirPath_1);\r\n                    res.end();\r\n                });\r\n            });\r\n            archive.on('error', function (err) {\r\n                if (err) {\r\n                    console.error(err.message);\r\n                    res.send(err.message);\r\n                }\r\n            });\r\n            archive.pipe(output);\r\n            archive.directory(i18nDirPath_1, time_1);\r\n            archive.finalize();\r\n        }\r\n        catch (err) {\r\n            console.error(err.message);\r\n            res.send(err.message);\r\n        }\r\n    }\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/express/services/i18n.json.download.service.ts\n// module id = 17\n// module chunks = 0","module.exports = require(\"archiver\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"archiver\"\n// module id = 18\n// module chunks = 0","var __values = (this && this.__values) || function (o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n};\r\nimport * as fs from 'fs';\r\nimport * as path from 'path';\r\nvar moment = require('moment');\r\nimport { STATIC_I18N_TABLE_COLUMNS } from '../../../common/constants/type';\r\nimport { EXPRESS } from '../../constant';\r\nimport * as properties from 'properties';\r\nvar archiver = require('archiver');\r\nimport { delDir } from '../../utils';\r\nvar STATIC_I18N_TABLE_LANGUAGE_COLUMNS = STATIC_I18N_TABLE_COLUMNS.slice(6);\r\nexport default {\r\n    processDownloadProperties: function (i18nData, file, res) {\r\n        this.downloadAllLanguage(i18nData, file, res);\r\n    },\r\n    downloadAllLanguage: function (i18nData, file, res) {\r\n        var e_1, _a, e_2, _b, e_3, _c;\r\n        try {\r\n            var i18nDirPath_1 = path.join(__dirname, \"files/\" + moment().format('YYYY-MM-DD-HH-mm-ss'));\r\n            var zipDirPath_1 = path.join(__dirname, \"files/\" + moment().format('YYYY-MM-DD-HH-mm-ss') + \"temp\");\r\n            var i18n = {};\r\n            fs.mkdirSync(i18nDirPath_1);\r\n            fs.mkdirSync(zipDirPath_1);\r\n            try {\r\n                for (var i18nData_1 = __values(i18nData), i18nData_1_1 = i18nData_1.next(); !i18nData_1_1.done; i18nData_1_1 = i18nData_1.next()) {\r\n                    var row = i18nData_1_1.value;\r\n                    if (!row.key)\r\n                        continue;\r\n                    try {\r\n                        for (var _d = __values(Object.keys(row)), _e = _d.next(); !_e.done; _e = _d.next()) {\r\n                            var key = _e.value;\r\n                            if (!STATIC_I18N_TABLE_LANGUAGE_COLUMNS.includes(key))\r\n                                continue;\r\n                            i18n[key] = i18n[key] || {};\r\n                            var i18nFileDir = path.join(i18nDirPath_1, EXPRESS.I18N_FILE_NAMES[key]);\r\n                            if (!fs.existsSync(i18nFileDir)) {\r\n                                fs.mkdirSync(i18nFileDir);\r\n                                fs.writeFileSync(i18nFileDir + \"/README.md\", '');\r\n                                fs.writeFileSync(i18nFileDir + \"/\" + (file || 'index') + \".properties\", '');\r\n                            }\r\n                            i18n[key][row.key] = row[key];\r\n                        }\r\n                    }\r\n                    catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n                    finally {\r\n                        try {\r\n                            if (_e && !_e.done && (_b = _d.return)) _b.call(_d);\r\n                        }\r\n                        finally { if (e_2) throw e_2.error; }\r\n                    }\r\n                }\r\n            }\r\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n            finally {\r\n                try {\r\n                    if (i18nData_1_1 && !i18nData_1_1.done && (_a = i18nData_1.return)) _a.call(i18nData_1);\r\n                }\r\n                finally { if (e_1) throw e_1.error; }\r\n            }\r\n            try {\r\n                for (var _f = __values(Object.keys(i18n)), _g = _f.next(); !_g.done; _g = _f.next()) {\r\n                    var language = _g.value;\r\n                    var languagePath = path.join(i18nDirPath_1, EXPRESS.I18N_FILE_NAMES[language] + \"/\" + (file || 'index') + \".properties\");\r\n                    fs.writeFileSync(languagePath, properties.stringify(i18n[language]));\r\n                }\r\n            }\r\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\r\n            finally {\r\n                try {\r\n                    if (_g && !_g.done && (_c = _f.return)) _c.call(_f);\r\n                }\r\n                finally { if (e_3) throw e_3.error; }\r\n            }\r\n            var archive = archiver('zip');\r\n            var time_1 = moment().format('YYYY-MM-DD-HH-mm-ss');\r\n            var zipPath_1 = path.join(zipDirPath_1, time_1 + \".zip\");\r\n            var output = fs.createWriteStream(zipPath_1);\r\n            var fsReadStream_1;\r\n            output.on('close', function () {\r\n                res.set({\r\n                    'Content-type': 'application/octet-stream',\r\n                    'Content-Disposition': 'attachment;filename=' + encodeURI(time_1 + \".zip\")\r\n                });\r\n                fsReadStream_1 = fs.createReadStream(zipPath_1);\r\n                fsReadStream_1.on('data', function (chunk) { return res.write(chunk, 'binary'); });\r\n                fsReadStream_1.on('end', function () {\r\n                    delDir(i18nDirPath_1);\r\n                    delDir(zipDirPath_1);\r\n                    res.end();\r\n                });\r\n            });\r\n            archive.on('error', function (err) {\r\n                if (err) {\r\n                    console.error(err.message);\r\n                    res.send(err.message);\r\n                }\r\n            });\r\n            archive.pipe(output);\r\n            archive.directory(i18nDirPath_1, time_1);\r\n            archive.finalize();\r\n        }\r\n        catch (err) {\r\n            console.error(err.message);\r\n            res.send(err.message);\r\n        }\r\n    }\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/express/services/i18n.properties.download.service.ts\n// module id = 19\n// module chunks = 0","import * as dotenv from 'dotenv';\r\nimport * as mongoose from './database';\r\nimport * as graphql from './graphql';\r\nimport { Nuxt, Builder } from 'nuxt';\r\nimport i18nRoute from './express/routes/i18n.route';\r\ndotenv.config();\r\nmongoose.startDB();\r\nvar server = graphql.startServer();\r\nvar nuxt = new Nuxt(require('../nuxt.config.js'));\r\nif (process.env.DEV_TYPE === 'nuxt') {\r\n    var builder = new Builder(nuxt);\r\n    builder.build();\r\n}\r\nserver.express.use('/graphql/i18n', i18nRoute);\r\nserver.express.use(nuxt.render);\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/index.ts\n// module id = 20\n// module chunks = 0","import * as mongoose from 'mongoose';\r\nexport var startDB = function () {\r\n    var url = process.env[\"MONGODB_URI_\" + process.env.NODE_ENV];\r\n    mongoose.connect(url, { useNewUrlParser: true }, function () {\r\n        console.log(\"\\uD83D\\uDE80\\uD83D\\uDE80\\uD83D\\uDE80 Mongoose is running on \" + url);\r\n    });\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/database/index.ts\n// module id = 21\n// module chunks = 0","import * as graphql from \"graphql-yoga\";\r\nimport { importSchema } from 'graphql-import';\r\nimport models from '../database/models';\r\nimport resolvers from './resolvers';\r\nimport middlewares from './middlewares';\r\nvar session = require('express-session');\r\nimport * as dotenv from 'dotenv';\r\nvar config = require('../../nuxt.config');\r\ndotenv.config();\r\nexport var startServer = function () {\r\n    var context = function (req) { return ({\r\n        models: models,\r\n        req: req.request\r\n    }); };\r\n    var port = process.env[\"DEV_PORT_\" + process.env.DEV_TYPE] || process.env.PRO_PORT;\r\n    var options = {\r\n        cors: {\r\n            credentials: true,\r\n            origin: [\"http://localhost:\" + port]\r\n        },\r\n        port: port,\r\n        playground: process.env.DEV_TYPE === 'server' ? '/playground' : false\r\n    };\r\n    var server = new graphql.GraphQLServer({\r\n        context: context,\r\n        resolvers: resolvers,\r\n        middlewares: middlewares,\r\n        typeDefs: importSchema('server/graphql/schemas/index.graphql')\r\n    });\r\n    server.express.use(session({\r\n        name: 'qid',\r\n        secret: \"some-random-secret-here\",\r\n        resave: true,\r\n        saveUninitialized: true,\r\n        cookie: {\r\n            secure: process.env.NODE_ENV === 'production',\r\n            maxAge: 1000 * 60 * 60 * 12\r\n        }\r\n    }));\r\n    server.start(options, function () {\r\n        console.log(\"\\uD83D\\uDE80\\uD83D\\uDE80\\uD83D\\uDE80 Server is running on  http://localhost:\" + port);\r\n    });\r\n    return server;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/graphql/index.ts\n// module id = 22\n// module chunks = 0","module.exports = require(\"graphql-yoga\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"graphql-yoga\"\n// module id = 23\n// module chunks = 0","module.exports = require(\"graphql-import\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"graphql-import\"\n// module id = 24\n// module chunks = 0","var __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nimport * as mongoose from 'mongoose';\r\nimport option from './option';\r\nvar UserSchema = new mongoose.Schema({\r\n    username: {\r\n        type: String,\r\n        required: true,\r\n        trim: true,\r\n        index: true,\r\n        unique: true\r\n    }\r\n}, __assign({}, option, { timestamps: {\r\n        updatedAt: false\r\n    } }));\r\nUserSchema.virtual('userId').get(function () {\r\n    return this._id.toString();\r\n});\r\nvar User = mongoose.model('User', UserSchema);\r\nexport default User;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/database/models/user.model.ts\n// module id = 25\n// module chunks = 0","var __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nimport * as mongoose from 'mongoose';\r\nimport option from './option';\r\nvar Schema = mongoose.Schema;\r\nimport * as CON from '../../../common/constants';\r\nvar MemberSchema = new Schema({\r\n    username: {\r\n        type: String,\r\n        trim: true,\r\n        index: true,\r\n        unique: true\r\n    },\r\n    userId: {\r\n        type: String,\r\n        required: true,\r\n        unique: true,\r\n        index: true\r\n    }\r\n}, __assign({}, option, { _id: false, timestamps: {\r\n        createdAt: false,\r\n        updatedAt: false\r\n    } }));\r\nvar StaticSchema = new Schema({\r\n    staticName: {\r\n        type: String,\r\n        unique: true,\r\n        trim: true,\r\n        index: true,\r\n        required: true\r\n    },\r\n    staticVersion: {\r\n        type: String,\r\n        unique: true,\r\n        trim: true,\r\n        index: true,\r\n        required: true\r\n    },\r\n    staticType: {\r\n        type: Number,\r\n        required: true,\r\n        enum: CON.STATIC_ARR\r\n    },\r\n    staticDesc: String\r\n}, __assign({}, option));\r\nStaticSchema.virtual('staticId').get(function () {\r\n    return this._id.toString();\r\n});\r\nvar ProjectSchema = new Schema({\r\n    projectName: {\r\n        type: String,\r\n        required: true,\r\n        trim: true\r\n    },\r\n    projectUrl: {\r\n        type: String,\r\n        required: true,\r\n        unique: true,\r\n        trim: true,\r\n        index: true\r\n    },\r\n    projectMember: [MemberSchema],\r\n    projectDesc: String,\r\n    projectCreator: String,\r\n    projectCreatorId: String,\r\n    projectStatic: [StaticSchema]\r\n}, option);\r\nProjectSchema.virtual('projectId').get(function () {\r\n    return this._id.toString();\r\n});\r\nvar Project = mongoose.model('Project', ProjectSchema);\r\nexport default Project;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/database/models/project.model.ts\n// module id = 26\n// module chunks = 0","export var COMMON_CODE;\r\n(function (COMMON_CODE) {\r\n    COMMON_CODE[COMMON_CODE[\"ERROR\"] = -1] = \"ERROR\";\r\n    COMMON_CODE[COMMON_CODE[\"TRUE\"] = 0] = \"TRUE\";\r\n    COMMON_CODE[COMMON_CODE[\"PROJECT_URL_REPEAT\"] = 1] = \"PROJECT_URL_REPEAT\";\r\n    COMMON_CODE[COMMON_CODE[\"STATIC_NAME_REPEAT\"] = 2] = \"STATIC_NAME_REPEAT\";\r\n    COMMON_CODE[COMMON_CODE[\"STATIC_VERSION_REPEAT\"] = 3] = \"STATIC_VERSION_REPEAT\";\r\n    COMMON_CODE[COMMON_CODE[\"I18N_NAME_REPEAT\"] = 4] = \"I18N_NAME_REPEAT\";\r\n})(COMMON_CODE || (COMMON_CODE = {}));\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./common/constants/code.ts\n// module id = 27\n// module chunks = 0","export var COMMON_MSG = {\r\n    NOT_LOGIN: 'Not login!'\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./common/constants/message.ts\n// module id = 28\n// module chunks = 0","var __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nimport * as mongoose from 'mongoose';\r\nimport option from './option';\r\nvar Schema = mongoose.Schema;\r\nvar i18nSchema = new Schema({\r\n    staticId: {\r\n        type: String,\r\n        required: true,\r\n        trim: true\r\n    },\r\n    i18nVersion: {\r\n        type: String,\r\n        required: true,\r\n        trim: true\r\n    },\r\n    i18nName: {\r\n        type: String,\r\n        required: true,\r\n        trim: true\r\n    },\r\n    i18nDesc: {\r\n        type: String,\r\n        required: true,\r\n        unique: true,\r\n        trim: true\r\n    },\r\n    i18nData: {\r\n        type: String,\r\n        trim: true\r\n    },\r\n    i18nImportFileName: {\r\n        type: String,\r\n        trim: true\r\n    },\r\n    i18nImportTime: {\r\n        type: String,\r\n        trim: true\r\n    }\r\n}, __assign({}, option, { timestamps: {\r\n        createdAt: false,\r\n        updatedAt: false\r\n    } }));\r\ni18nSchema.virtual('i18nId').get(function () {\r\n    return this._id.toString();\r\n});\r\nvar I18n = mongoose.model('I18n', i18nSchema);\r\nexport default I18n;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/database/models/i18n.model.ts\n// module id = 29\n// module chunks = 0","var __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nimport user from './user.resolver';\r\nimport project from './project.resolver';\r\nimport sta from './static.resolver';\r\nimport i18n from './i18n.resolver';\r\nvar resolvers = {\r\n    Mutation: __assign({}, user.mutation, project.mutation, sta.mutation, i18n.mutation),\r\n    Query: __assign({}, user.query, project.query, sta.query, i18n.query)\r\n};\r\nexport default resolvers;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/graphql/resolvers/index.ts\n// module id = 30\n// module chunks = 0","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { resolveResponse, loginOA } from '../../utils';\r\nimport { GRAPHQL } from '../../constant';\r\nimport { COMMON_CODE } from '../../../common/constants';\r\nvar RES = GRAPHQL.RES;\r\nvar ERROR = COMMON_CODE.ERROR, TRUE = COMMON_CODE.TRUE;\r\nimport * as dotenv from 'dotenv';\r\ndotenv.config();\r\nvar key = new (require('node-rsa'))({ b: 512 });\r\nkey.setOptions({ encryptionScheme: 'pkcs1' });\r\nvar mutation = {\r\n    login: function (parent, args, _a) {\r\n        var models = _a.models, req = _a.req;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            function decrypt(password) {\r\n                return key.decrypt(password.replace(/\\s+/g, '+'), 'utf8');\r\n            }\r\n            var username, password, User, loginSuccess, user, err_1;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _b.trys.push([0, 7, , 8]);\r\n                        username = args.username, password = args.password;\r\n                        User = models.User;\r\n                        return [4, loginOA(username, decrypt(password))];\r\n                    case 1:\r\n                        loginSuccess = _b.sent();\r\n                        if (!loginSuccess) return [3, 5];\r\n                        return [4, User.findOne({ username: username })];\r\n                    case 2:\r\n                        user = _b.sent();\r\n                        if (!!user) return [3, 4];\r\n                        return [4, User.create({\r\n                                username: username\r\n                            })];\r\n                    case 3:\r\n                        user = _b.sent();\r\n                        _b.label = 4;\r\n                    case 4:\r\n                        if (req.session) {\r\n                            req.session.username = user.username;\r\n                            req.session.userId = user.userId;\r\n                        }\r\n                        return [2, resolveResponse(TRUE, RES.LOGIN_SUCCESS)];\r\n                    case 5: return [2, resolveResponse(ERROR, RES.USER_ERR)];\r\n                    case 6: return [3, 8];\r\n                    case 7:\r\n                        err_1 = _b.sent();\r\n                        console.error(err_1.message);\r\n                        return [2, resolveResponse(ERROR, err_1.message)];\r\n                    case 8: return [2];\r\n                }\r\n            });\r\n        });\r\n    },\r\n    logout: function (parent, args, _a) {\r\n        var req = _a.req;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_b) {\r\n                if (req.session) {\r\n                    req.session.username = null;\r\n                    req.session.userId = null;\r\n                }\r\n                return [2, resolveResponse(TRUE, RES.LOGIN_SUCCESS)];\r\n            });\r\n        });\r\n    }\r\n};\r\nvar query = {\r\n    getRsaKey: function (parent, args, _a) {\r\n        var req = _a.req;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var publicKey, session;\r\n            return __generator(this, function (_b) {\r\n                session = req.session;\r\n                if (session && session.publicKey) {\r\n                    publicKey = session.publicKey;\r\n                }\r\n                else if (session) {\r\n                    publicKey = session.publicKey = key.exportKey('public');\r\n                }\r\n                return [2, resolveResponse(publicKey ? TRUE : ERROR, publicKey ? '' : RES.KEY_ERR, publicKey)];\r\n            });\r\n        });\r\n    },\r\n    users: function (parent, args, _a) {\r\n        var models = _a.models, req = _a.req;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var users, session_1, err_2;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _b.trys.push([0, 2, , 3]);\r\n                        return [4, models.User.find()];\r\n                    case 1:\r\n                        users = _b.sent();\r\n                        session_1 = req.session;\r\n                        if (session_1) {\r\n                            return [2, resolveResponse(TRUE, RES.QUERY_SUCCESS, process.env.NODE_ENV === 'production'\r\n                                    ? users.filter(function (user) { return user.userId !== session_1.userId; })\r\n                                    : users)];\r\n                        }\r\n                        return [2, resolveResponse(ERROR, RES.QUERY_FAIL)];\r\n                    case 2:\r\n                        err_2 = _b.sent();\r\n                        console.error(err_2.message);\r\n                        return [2, resolveResponse(ERROR, err_2.message)];\r\n                    case 3: return [2];\r\n                }\r\n            });\r\n        });\r\n    }\r\n};\r\nexport default {\r\n    mutation: mutation,\r\n    query: query\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/graphql/resolvers/user.resolver.ts\n// module id = 31\n// module chunks = 0","export var resolveResponse = function (code, msg, data) {\r\n    return {\r\n        code: code,\r\n        msg: msg,\r\n        data: data\r\n    };\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/utils/grqphql.util.ts\n// module id = 32\n// module chunks = 0","import * as dotenv from 'dotenv';\r\nimport * as ldapjs from 'ldapjs';\r\ndotenv.config();\r\nexport var loginOA = function (username, password) {\r\n    var client = ldapjs.createClient({\r\n        url: process.env.LOAP_URI\r\n    });\r\n    return new Promise(function (resolve) {\r\n        try {\r\n            client.bind(username, password, function (err) {\r\n                resolve(err ? false : true);\r\n                client.destroy();\r\n            });\r\n        }\r\n        catch (err) {\r\n            console.error(err.message);\r\n            client.destroy();\r\n        }\r\n    });\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/utils/ldapjs.util.ts\n// module id = 33\n// module chunks = 0","module.exports = require(\"ldapjs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ldapjs\"\n// module id = 34\n// module chunks = 0","import * as crypto from 'crypto';\r\nimport { MD5 } from '../constant';\r\nexport var createMd5Password = function (password) {\r\n    return crypto.createHash('md5').update(\"\" + password + MD5.SALT, 'utf8').digest('base64');\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/utils/md5.util.ts\n// module id = 35\n// module chunks = 0","module.exports = require(\"crypto\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"crypto\"\n// module id = 36\n// module chunks = 0","export var GRAPHQL = {\r\n    RES: {\r\n        KEY_ERR: '获取公钥失败！',\r\n        LOGIN_SUCCESS: '登录成功！',\r\n        LOGOUT_SUCCESS: '注销成功！',\r\n        USER_ERR: '用户名或密码错误！',\r\n        QUERY_SUCCESS: '查询成功！',\r\n        QUERY_FAIL: '查询失败！',\r\n        ADD_SUCCESS: '添加成功！',\r\n        UPDATE_SUCCESS: '更新成功！',\r\n        PROJECT_URL_REPEAT: '项目URL已经存在与其他项目，请确认URL是否正确！',\r\n        DEL_FAIL: '删除失败！',\r\n        DEL_SUCCESS: '删除成功！',\r\n        PROJECT_NOT_FOUND: '项目不存在！',\r\n        STATIC_NOT_FOUND: '静态资源不存在！',\r\n        STATIC_NAME_REPEAT: '资源类型名称已经存在，请重新命名资源类型！',\r\n        STATIC_TYPE_VERSION_REPEAT: '当前资源类型对应的版本已经存在，请重新设置版本！',\r\n        I18N_NAME_REPEAT: '多语言名称已经存在，请重新命名多语言！',\r\n        I18N_NOT_FOUND: '多语言不存在！'\r\n    }\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/constant/graphql.constant.ts\n// module id = 37\n// module chunks = 0","export var MD5 = {\r\n    SALT: '!@#$$%%^%$%^$%#$*^*&@@!@#$@&^&*^'\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/constant/md5.constant.ts\n// module id = 38\n// module chunks = 0","export var EXPRESS_UPLOAD_TYPE;\r\n(function (EXPRESS_UPLOAD_TYPE) {\r\n    EXPRESS_UPLOAD_TYPE[EXPRESS_UPLOAD_TYPE[\"SKIP\"] = 0] = \"SKIP\";\r\n    EXPRESS_UPLOAD_TYPE[EXPRESS_UPLOAD_TYPE[\"COVER\"] = 1] = \"COVER\";\r\n})(EXPRESS_UPLOAD_TYPE || (EXPRESS_UPLOAD_TYPE = {}));\r\nexport var EXPRESS = {\r\n    RES: {\r\n        EXCEL_SHEET_EMPTY: '上传的xlsx格式文件没有数据！',\r\n        EXCEL_CAPTION_ERR: '上传的xlsx格式文件表头信息不符合模板格式！',\r\n        UPLOAD_TRANSLATE_NOT_UPLOAD_DEV: '未进行开发导入，请先导入开发态多语言！',\r\n        UPLOAD_TRANSLATE_NOT_UPLOAD_FRONT: '请先导入前端多语言！',\r\n        UPLOAD_TRANSLATE_NOT_UPLOAD_BACK: '请先导入后端多语言！',\r\n        UPLOAD_SUCCESS: '上传成功！',\r\n        UPLOAD_FORMAT_ERR: '导入的文件格式不正确！',\r\n        UPLOAD_SUP_EMPTY: '当前多语言列表中不存在多语言信息！',\r\n        UPLOAD_SUB_OTHER_LANG: '不允许导入非中文的其他语言信息。',\r\n        UPLOAD_VERSION_ERR: '导入的版本错误！当前需导入的版本为：',\r\n        UPLOAD_DATA_ERR: '导入缺少关键信息或中文！',\r\n        UPLOAD_COMPLETE_NEW: '为防止误导入其他多语言文件，请确认是否是导入当前多语言，如果是请添加新的多语言并删除当前多语言！',\r\n        UPLOAD_JSON_ERR: '上传的JSON文件内容不是有效的对象!',\r\n        UPLOAD_JSON_EMPTY: '上传的JSON文件不能为空！',\r\n        UPLOAD_PROPERTIES_EMPTY: '上传的properties文件不能为空！',\r\n        UPLOAD_PROPERTIES_NO_VALUE: '上传的properties文件只有key没有value！'\r\n    },\r\n    TEMP_EXCEL: {\r\n        CAPTION: [\r\n            'Resource (来源)',\r\n            'Key (关键信息)',\r\n            'Version (版本)',\r\n            'Length (长度)',\r\n            'Position (位置)',\r\n            'Remark (备注)',\r\n            '0_中文 (Simplified Chinese -简体中文)',\r\n            '1_English (English-英文)',\r\n            '2_Русский (Russian-俄语)',\r\n            '3_Eesti (Estonian-爱沙尼亚语)',\r\n            '4_Български (Bulgarian-保加利亚语)',\r\n            '5_Magyar (Hungarian-匈牙利语)',\r\n            '6_Ελληνικά (Greek-希腊语)',\r\n            '7_Deutsch (German-德语)',\r\n            '8_Italiano (Italian-意大利语)',\r\n            '9_Český (Czech-捷克语)',\r\n            '10_Slovensko (Slovak-斯洛伐克语)',\r\n            '11_Français (France-法语)',\r\n            '12_Polski (Polish-波兰语)',\r\n            '13_Nederlands (Dutch-荷兰语)',\r\n            '14_Português (Portuguese-葡萄牙语)',\r\n            '15_Español (Spanish-西班牙语)',\r\n            '16_Român (Romanian-罗马尼亚语)',\r\n            '17_Dansk (Danish-丹麦语)',\r\n            '18_Svenska (Swedish-瑞典语)',\r\n            '19_Norsk (Norwegian-挪威语)',\r\n            '20_Suomi (Finnish-芬兰语)',\r\n            '21_Hrvatski (Croatian-克罗地亚语)',\r\n            '22_Slovenščina (Slovenian-斯洛文尼亚语)',\r\n            '23_Srpski (Serbian-塞尔维亚语)',\r\n            '24_Türkçe (Turkish-土耳其语)',\r\n            '25_한국어 (Korean-韩语)',\r\n            '26_繁體中文 (Traditional Chinese-繁体中文)',\r\n            '27_ภาษาไทย (Thai-泰语)',\r\n            '28_Tiếng Việt (Vietnamese-越南语)',\r\n            '29_日本語 (Japanese-日语)',\r\n            '30_עברית שפה (Hebrew-希伯来语)',\r\n            '31_Latvijas (Latvian-拉脱维亚语)',\r\n            '32_lietuviešu (Lithuanian-立陶宛语)',\r\n            '33_Português - BRAZIL(Brazilian Portuguese-巴西葡萄牙语 )',\r\n            '34_العربية(Arabic-阿拉伯语)',\r\n            '35_فارسی(Persian-波斯语)'\r\n        ]\r\n    },\r\n    I18N_FILE_NAMES: {\r\n        'chinese': 'zh_CN',\r\n        'english': 'en_US',\r\n        'russian': 'ru',\r\n        'estonia': 'et',\r\n        'bulgarian': 'bg',\r\n        'hungarian': 'hu',\r\n        'greek': 'el',\r\n        'german': 'de',\r\n        'italian': 'it',\r\n        'czech': 'cs',\r\n        'slovak': 'sk',\r\n        'france': 'fr',\r\n        'polish': 'pl',\r\n        'dutch': 'nl',\r\n        'portuguese': 'pt',\r\n        'spanish': 'es',\r\n        'romanian': 'ro',\r\n        'danish': 'da',\r\n        'swedish': 'sv',\r\n        'norwegian': 'no',\r\n        'finnish': 'fi',\r\n        'croatian': 'hr',\r\n        'slovenian': 'sl',\r\n        'serbian': 'sr',\r\n        'turkish': 'tr',\r\n        'korean': 'ko',\r\n        'traditionalChinese': 'zh_HK',\r\n        'thai': 'th',\r\n        'vietnamese': 'vi',\r\n        'japanese': 'ja',\r\n        'hebrew': 'he',\r\n        'latvian': 'lv',\r\n        'lithuanian': 'lt',\r\n        'brazilianPortuguese': 'pt_BR',\r\n        'arabic': 'ar',\r\n        'persian': 'fa'\r\n    }\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/constant/express.constant.ts\n// module id = 39\n// module chunks = 0","var __values = (this && this.__values) || function (o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n};\r\nimport * as fs from 'fs';\r\nexport var delDir = function (path) {\r\n    var e_1, _a;\r\n    var files = [];\r\n    if (fs.existsSync(path)) {\r\n        files = fs.readdirSync(path);\r\n        try {\r\n            for (var files_1 = __values(files), files_1_1 = files_1.next(); !files_1_1.done; files_1_1 = files_1.next()) {\r\n                var file = files_1_1.value;\r\n                var curPath = path + \"/\" + file;\r\n                if (fs.statSync(curPath).isDirectory()) {\r\n                    delDir(curPath);\r\n                }\r\n                else {\r\n                    fs.unlinkSync(curPath);\r\n                }\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (files_1_1 && !files_1_1.done && (_a = files_1.return)) _a.call(files_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        fs.rmdirSync(path);\r\n    }\r\n};\r\nexport var delFile = function (path) {\r\n    fs.unlinkSync(path);\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/utils/file.util.ts\n// module id = 40\n// module chunks = 0","module.exports = require(\"node-rsa\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"node-rsa\"\n// module id = 41\n// module chunks = 0","var __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __values = (this && this.__values) || function (o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n};\r\nimport { resolveResponse } from '../../utils';\r\nimport { GRAPHQL } from '../../constant';\r\nimport { COMMON_CODE } from '../../../common/constants';\r\nvar RES = GRAPHQL.RES;\r\nvar ERROR = COMMON_CODE.ERROR, TRUE = COMMON_CODE.TRUE, PROJECT_URL_REPEAT = COMMON_CODE.PROJECT_URL_REPEAT;\r\nimport * as dotenv from 'dotenv';\r\ndotenv.config();\r\nvar mutation = {\r\n    addProject: function (parent, args, _a) {\r\n        var models = _a.models, req = _a.req;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var projectMember, Project, session, project, err_1;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _b.trys.push([0, 5, , 6]);\r\n                        projectMember = args.projectMember;\r\n                        Project = models.Project;\r\n                        session = req.session;\r\n                        if (projectMember && projectMember.length) {\r\n                            projectMember = JSON.parse(projectMember);\r\n                        }\r\n                        return [4, Project.findOne({ projectUrl: args.projectUrl })];\r\n                    case 1:\r\n                        project = _b.sent();\r\n                        if (!project) return [3, 2];\r\n                        return [2, resolveResponse(PROJECT_URL_REPEAT, RES.PROJECT_URL_REPEAT)];\r\n                    case 2: return [4, Project.create(__assign({}, args, { projectMember: projectMember, projectCreator: session && session.username, projectCreatorId: session && session.userId }))];\r\n                    case 3:\r\n                        _b.sent();\r\n                        return [2, resolveResponse(TRUE, RES.ADD_SUCCESS)];\r\n                    case 4: return [3, 6];\r\n                    case 5:\r\n                        err_1 = _b.sent();\r\n                        console.error(err_1.message);\r\n                        return [2, resolveResponse(ERROR, err_1.message)];\r\n                    case 6: return [2];\r\n                }\r\n            });\r\n        });\r\n    },\r\n    deleteProject: function (parent, args, _a) {\r\n        var models = _a.models, req = _a.req;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var err_2;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _b.trys.push([0, 2, , 3]);\r\n                        return [4, models.Project.remove({ _id: args.projectId })];\r\n                    case 1:\r\n                        _b.sent();\r\n                        return [2, resolveResponse(TRUE, RES.DEL_SUCCESS)];\r\n                    case 2:\r\n                        err_2 = _b.sent();\r\n                        console.error(err_2.message);\r\n                        return [2, resolveResponse(ERROR, err_2.message)];\r\n                    case 3: return [2];\r\n                }\r\n            });\r\n        });\r\n    },\r\n    updateProject: function (parent, args, _a) {\r\n        var models = _a.models, req = _a.req;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var project, err_3;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _b.trys.push([0, 5, , 6]);\r\n                        return [4, models.Project.findById(args.projectId)];\r\n                    case 1:\r\n                        project = _b.sent();\r\n                        if (!project) return [3, 3];\r\n                        args.projectMember = JSON.parse(args.projectMember);\r\n                        Object.assign(project, args);\r\n                        return [4, project.save()];\r\n                    case 2:\r\n                        _b.sent();\r\n                        return [2, resolveResponse(TRUE, RES.UPDATE_SUCCESS)];\r\n                    case 3: return [2, resolveResponse(ERROR, RES.PROJECT_NOT_FOUND)];\r\n                    case 4: return [3, 6];\r\n                    case 5:\r\n                        err_3 = _b.sent();\r\n                        console.error(err_3.message);\r\n                        return [2, resolveResponse(ERROR, err_3.message)];\r\n                    case 6: return [2];\r\n                }\r\n            });\r\n        });\r\n    }\r\n};\r\nvar query = {\r\n    projects: function (parent, args, _a) {\r\n        var models = _a.models, req = _a.req;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var e_1, _b, projects, showProjects, projects_1, projects_1_1, project, projectMember, err_4;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        _c.trys.push([0, 2, , 3]);\r\n                        return [4, models.Project.find()];\r\n                    case 1:\r\n                        projects = _c.sent();\r\n                        showProjects = [];\r\n                        try {\r\n                            for (projects_1 = __values(projects), projects_1_1 = projects_1.next(); !projects_1_1.done; projects_1_1 = projects_1.next()) {\r\n                                project = projects_1_1.value;\r\n                                projectMember = project.projectMember;\r\n                                if (projectMember && req.session) {\r\n                                    console.log(projectMember);\r\n                                    console.log(req.sessionID);\r\n                                    console.log(req.session.username);\r\n                                    console.log(req.session.userId);\r\n                                    console.log(projectMember.find(function (member) { return member.userId === (req.session && req.session.userId); }));\r\n                                }\r\n                                if (!projectMember\r\n                                    || !projectMember.length\r\n                                    || !projectMember.find(function (member) { return member.userId === (req.session && req.session.userId); }))\r\n                                    continue;\r\n                                showProjects.push(project);\r\n                            }\r\n                        }\r\n                        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n                        finally {\r\n                            try {\r\n                                if (projects_1_1 && !projects_1_1.done && (_b = projects_1.return)) _b.call(projects_1);\r\n                            }\r\n                            finally { if (e_1) throw e_1.error; }\r\n                        }\r\n                        return [2, resolveResponse(TRUE, RES.QUERY_SUCCESS, showProjects)];\r\n                    case 2:\r\n                        err_4 = _c.sent();\r\n                        return [2, resolveResponse(ERROR, err_4.message)];\r\n                    case 3: return [2];\r\n                }\r\n            });\r\n        });\r\n    },\r\n    projectByName: function (parent, args, _a) {\r\n        var models = _a.models, req = _a.req;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var e_2, _b, projects, showProjects, projects_2, projects_2_1, project, projectMember, err_5;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        _c.trys.push([0, 2, , 3]);\r\n                        return [4, models.Project.find({\r\n                                $or: [{ projectName: { $regex: new RegExp(args.projectName, 'i') } }]\r\n                            })];\r\n                    case 1:\r\n                        projects = _c.sent();\r\n                        showProjects = [];\r\n                        try {\r\n                            for (projects_2 = __values(projects), projects_2_1 = projects_2.next(); !projects_2_1.done; projects_2_1 = projects_2.next()) {\r\n                                project = projects_2_1.value;\r\n                                projectMember = project.projectMember;\r\n                                if (!projectMember\r\n                                    || !projectMember.length\r\n                                    || !projectMember.find(function (member) { return member.userId === (req.session && req.session.userId); }))\r\n                                    continue;\r\n                                showProjects.push(project);\r\n                            }\r\n                        }\r\n                        catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n                        finally {\r\n                            try {\r\n                                if (projects_2_1 && !projects_2_1.done && (_b = projects_2.return)) _b.call(projects_2);\r\n                            }\r\n                            finally { if (e_2) throw e_2.error; }\r\n                        }\r\n                        return [2, resolveResponse(TRUE, RES.QUERY_SUCCESS, showProjects)];\r\n                    case 2:\r\n                        err_5 = _c.sent();\r\n                        console.error(err_5.message);\r\n                        return [2, resolveResponse(ERROR, err_5.message)];\r\n                    case 3: return [2];\r\n                }\r\n            });\r\n        });\r\n    },\r\n    projectByID: function (parent, args, _a) {\r\n        var models = _a.models, req = _a.req;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var project, err_6;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _b.trys.push([0, 2, , 3]);\r\n                        return [4, models.Project.findById(args.projectId)];\r\n                    case 1:\r\n                        project = _b.sent();\r\n                        return [2, resolveResponse(TRUE, RES.QUERY_SUCCESS, project)];\r\n                    case 2:\r\n                        err_6 = _b.sent();\r\n                        console.error(err_6.message);\r\n                        return [2, resolveResponse(ERROR, err_6.message)];\r\n                    case 3: return [2];\r\n                }\r\n            });\r\n        });\r\n    }\r\n};\r\nexport default {\r\n    mutation: mutation,\r\n    query: query\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/graphql/resolvers/project.resolver.ts\n// module id = 42\n// module chunks = 0","var __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __values = (this && this.__values) || function (o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n};\r\nimport { resolveResponse } from '../../utils';\r\nimport { GRAPHQL } from '../../constant';\r\nimport { COMMON_CODE } from '../../../common/constants';\r\nvar RES = GRAPHQL.RES;\r\nvar ERROR = COMMON_CODE.ERROR, TRUE = COMMON_CODE.TRUE;\r\nvar mutation = {\r\n    addStatic: function (parent, args, _a) {\r\n        var models = _a.models, req = _a.req;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var e_1, _b, project, projectStatic, projectStatic_1, projectStatic_1_1, sta, err_1;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        _c.trys.push([0, 5, , 6]);\r\n                        return [4, models.Project.findById(args.projectId)];\r\n                    case 1:\r\n                        project = _c.sent();\r\n                        if (!(project && project.projectStatic)) return [3, 3];\r\n                        projectStatic = project.projectStatic;\r\n                        try {\r\n                            for (projectStatic_1 = __values(projectStatic), projectStatic_1_1 = projectStatic_1.next(); !projectStatic_1_1.done; projectStatic_1_1 = projectStatic_1.next()) {\r\n                                sta = projectStatic_1_1.value;\r\n                                if (sta.staticName === args.staticName) {\r\n                                    return [2, resolveResponse(COMMON_CODE.STATIC_NAME_REPEAT, RES.STATIC_NAME_REPEAT)];\r\n                                }\r\n                                else if (sta.staticType === args.staticType && sta.staticVersion && args.staticType) {\r\n                                    return [2, resolveResponse(COMMON_CODE.STATIC_VERSION_REPEAT, RES.STATIC_TYPE_VERSION_REPEAT)];\r\n                                }\r\n                            }\r\n                        }\r\n                        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n                        finally {\r\n                            try {\r\n                                if (projectStatic_1_1 && !projectStatic_1_1.done && (_b = projectStatic_1.return)) _b.call(projectStatic_1);\r\n                            }\r\n                            finally { if (e_1) throw e_1.error; }\r\n                        }\r\n                        project.projectStatic.push({\r\n                            staticVersion: args.staticVersion,\r\n                            staticName: args.staticName,\r\n                            staticType: args.staticType,\r\n                            staticDesc: args.staticDesc\r\n                        });\r\n                        return [4, project.save()];\r\n                    case 2:\r\n                        _c.sent();\r\n                        return [2, resolveResponse(TRUE, RES.ADD_SUCCESS)];\r\n                    case 3: return [2, resolveResponse(ERROR, RES.PROJECT_NOT_FOUND)];\r\n                    case 4: return [3, 6];\r\n                    case 5:\r\n                        err_1 = _c.sent();\r\n                        console.error(err_1.message);\r\n                        return [2, resolveResponse(ERROR, err_1.message)];\r\n                    case 6: return [2];\r\n                }\r\n            });\r\n        });\r\n    },\r\n    updateStatic: function (parent, args, _a) {\r\n        var models = _a.models, req = _a.req;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var e_2, _b, project, projectStatic, currentStatic, projectStatic_2, projectStatic_2_1, sta, err_2;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        _c.trys.push([0, 5, , 6]);\r\n                        return [4, models.Project.findById(args.projectId)];\r\n                    case 1:\r\n                        project = _c.sent();\r\n                        if (!(project && project.projectStatic)) return [3, 3];\r\n                        projectStatic = project.projectStatic || [];\r\n                        currentStatic = void 0;\r\n                        try {\r\n                            for (projectStatic_2 = __values(projectStatic), projectStatic_2_1 = projectStatic_2.next(); !projectStatic_2_1.done; projectStatic_2_1 = projectStatic_2.next()) {\r\n                                sta = projectStatic_2_1.value;\r\n                                if (sta.staticId === args.staticId) {\r\n                                    currentStatic = sta;\r\n                                    continue;\r\n                                }\r\n                                if (sta.staticName === args.staticName) {\r\n                                    return [2, resolveResponse(COMMON_CODE.STATIC_NAME_REPEAT, RES.STATIC_NAME_REPEAT)];\r\n                                }\r\n                            }\r\n                        }\r\n                        catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n                        finally {\r\n                            try {\r\n                                if (projectStatic_2_1 && !projectStatic_2_1.done && (_b = projectStatic_2.return)) _b.call(projectStatic_2);\r\n                            }\r\n                            finally { if (e_2) throw e_2.error; }\r\n                        }\r\n                        currentStatic.staticName = args.staticName;\r\n                        currentStatic.staticDesc = args.staticDesc;\r\n                        return [4, project.save()];\r\n                    case 2:\r\n                        _c.sent();\r\n                        return [2, resolveResponse(TRUE, RES.UPDATE_SUCCESS)];\r\n                    case 3: return [2, resolveResponse(ERROR, RES.STATIC_NOT_FOUND)];\r\n                    case 4: return [3, 6];\r\n                    case 5:\r\n                        err_2 = _c.sent();\r\n                        console.error(err_2.message);\r\n                        return [2, resolveResponse(ERROR, err_2.message)];\r\n                    case 6: return [2];\r\n                }\r\n            });\r\n        });\r\n    },\r\n    deleteStatic: function (parent, args, _a) {\r\n        var models = _a.models, req = _a.req;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var project, index, err_3;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _b.trys.push([0, 7, , 8]);\r\n                        return [4, models.Project.findById(args.projectId)];\r\n                    case 1:\r\n                        project = _b.sent();\r\n                        if (!(project && project.projectStatic)) return [3, 5];\r\n                        index = project.projectStatic.findIndex(function (sta) { return sta.staticId === args.staticId; });\r\n                        if (!(index !== -1)) return [3, 3];\r\n                        project.projectStatic.splice(index, 1);\r\n                        return [4, models.I18n.deleteMany({ staticId: args.staticId })];\r\n                    case 2:\r\n                        _b.sent();\r\n                        _b.label = 3;\r\n                    case 3: return [4, project.save()];\r\n                    case 4:\r\n                        _b.sent();\r\n                        return [2, resolveResponse(TRUE, RES.ADD_SUCCESS)];\r\n                    case 5: return [2, resolveResponse(ERROR, RES.STATIC_NOT_FOUND)];\r\n                    case 6: return [3, 8];\r\n                    case 7:\r\n                        err_3 = _b.sent();\r\n                        console.error(err_3.message);\r\n                        return [2, resolveResponse(ERROR, err_3.message)];\r\n                    case 8: return [2];\r\n                }\r\n            });\r\n        });\r\n    }\r\n};\r\nvar query = {\r\n    staticByID: function (parent, args, _a) {\r\n        var models = _a.models, req = _a.req;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var ids_1, project, staToObj, sta, staticData, err_4;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _b.trys.push([0, 5, , 6]);\r\n                        ids_1 = args.id.split('-');\r\n                        return [4, models.Project.findById(ids_1[0])];\r\n                    case 1:\r\n                        project = _b.sent();\r\n                        if (!(project && project.projectStatic)) return [3, 3];\r\n                        staToObj = void 0;\r\n                        sta = project.projectStatic.find(function (sta) { return sta.staticId === ids_1[1]; });\r\n                        return [4, models.I18n.find({ staticId: ids_1[1] })];\r\n                    case 2:\r\n                        staticData = _b.sent();\r\n                        if (sta)\r\n                            staToObj = sta.toObject();\r\n                        return [2, resolveResponse(TRUE, RES.QUERY_SUCCESS, __assign({}, staToObj, { staticData: staticData }))];\r\n                    case 3: return [2, resolveResponse(ERROR, RES.STATIC_NOT_FOUND)];\r\n                    case 4: return [3, 6];\r\n                    case 5:\r\n                        err_4 = _b.sent();\r\n                        console.error(err_4.message);\r\n                        return [2, resolveResponse(ERROR, err_4.message)];\r\n                    case 6: return [2];\r\n                }\r\n            });\r\n        });\r\n    }\r\n};\r\nexport default {\r\n    mutation: mutation,\r\n    query: query\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/graphql/resolvers/static.resolver.ts\n// module id = 43\n// module chunks = 0","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { resolveResponse } from '../../utils';\r\nimport { COMMON_CODE } from '../../../common/constants';\r\nimport { GRAPHQL } from '../../constant';\r\nvar RES = GRAPHQL.RES;\r\nvar ERROR = COMMON_CODE.ERROR, TRUE = COMMON_CODE.TRUE;\r\nvar mutation = {\r\n    addI18n: function (parent, args, _a) {\r\n        var models = _a.models, req = _a.req;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var I18n, i18n, err_1;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _b.trys.push([0, 7, , 8]);\r\n                        I18n = models.I18n;\r\n                        return [4, I18n.find({ staticId: args.staticId })];\r\n                    case 1:\r\n                        i18n = _b.sent();\r\n                        if (!(!i18n || !i18n.length)) return [3, 3];\r\n                        return [4, I18n.create(args)];\r\n                    case 2:\r\n                        _b.sent();\r\n                        return [2, resolveResponse(TRUE, RES.ADD_SUCCESS)];\r\n                    case 3:\r\n                        if (!i18n.find(function (data) { return data.i18nName === args.i18nName; })) return [3, 4];\r\n                        return [2, resolveResponse(COMMON_CODE.I18N_NAME_REPEAT, RES.I18N_NAME_REPEAT)];\r\n                    case 4: return [4, I18n.create(args)];\r\n                    case 5:\r\n                        _b.sent();\r\n                        return [2, resolveResponse(TRUE, RES.ADD_SUCCESS)];\r\n                    case 6: return [3, 8];\r\n                    case 7:\r\n                        err_1 = _b.sent();\r\n                        return [2, resolveResponse(ERROR, err_1.message)];\r\n                    case 8: return [2];\r\n                }\r\n            });\r\n        });\r\n    },\r\n    updateI18n: function (parent, args, _a) {\r\n        var models = _a.models, req = _a.req;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var i18n, err_2;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _b.trys.push([0, 5, , 6]);\r\n                        return [4, models.I18n.findById(args.i18nId)];\r\n                    case 1:\r\n                        i18n = _b.sent();\r\n                        if (!i18n) return [3, 3];\r\n                        Object.assign(i18n, args);\r\n                        return [4, i18n.save()];\r\n                    case 2:\r\n                        _b.sent();\r\n                        return [2, resolveResponse(TRUE, RES.UPDATE_SUCCESS)];\r\n                    case 3: return [2, resolveResponse(ERROR, RES.I18N_NOT_FOUND)];\r\n                    case 4: return [3, 6];\r\n                    case 5:\r\n                        err_2 = _b.sent();\r\n                        return [2, resolveResponse(ERROR, err_2.message)];\r\n                    case 6: return [2];\r\n                }\r\n            });\r\n        });\r\n    },\r\n    deleteI18n: function (parent, args, _a) {\r\n        var models = _a.models, req = _a.req;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var err_3;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _b.trys.push([0, 2, , 3]);\r\n                        return [4, models.I18n.deleteOne({ _id: args.i18nId })];\r\n                    case 1:\r\n                        _b.sent();\r\n                        return [2, resolveResponse(TRUE, RES.DEL_SUCCESS)];\r\n                    case 2:\r\n                        err_3 = _b.sent();\r\n                        return [2, resolveResponse(ERROR, err_3.message)];\r\n                    case 3: return [2];\r\n                }\r\n            });\r\n        });\r\n    }\r\n};\r\nvar query = {\r\n    i18nByID: function (parent, args, _a) {\r\n        var models = _a.models, req = _a.req;\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var i18n, err_4;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _b.trys.push([0, 2, , 3]);\r\n                        return [4, models.I18n.findById(args.id)];\r\n                    case 1:\r\n                        i18n = _b.sent();\r\n                        return [2, resolveResponse(TRUE, RES.QUERY_SUCCESS, i18n)];\r\n                    case 2:\r\n                        err_4 = _b.sent();\r\n                        return [2, resolveResponse(ERROR, err_4.message)];\r\n                    case 3: return [2];\r\n                }\r\n            });\r\n        });\r\n    }\r\n};\r\nexport default {\r\n    mutation: mutation,\r\n    query: query\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/graphql/resolvers/i18n.resolver.ts\n// module id = 44\n// module chunks = 0","var __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __spread = (this && this.__spread) || function () {\r\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n};\r\nimport auth from './auth.middleware';\r\nvar middlewares = __spread(auth);\r\nexport default middlewares;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/graphql/middlewares/index.ts\n// module id = 45\n// module chunks = 0","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar _this = this;\r\nvar isLogginIn = function (resolve, parent, args, ctx) { return __awaiter(_this, void 0, void 0, function () {\r\n    return __generator(this, function (_a) {\r\n        return [2, resolve()];\r\n    });\r\n}); };\r\nexport default [\r\n    isLogginIn\r\n];\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/graphql/middlewares/auth.middleware.ts\n// module id = 46\n// module chunks = 0","module.exports = require(\"express-session\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-session\"\n// module id = 47\n// module chunks = 0","module.exports = function (args, opts) {\n    if (!opts) opts = {};\n    \n    var flags = { bools : {}, strings : {}, unknownFn: null };\n\n    if (typeof opts['unknown'] === 'function') {\n        flags.unknownFn = opts['unknown'];\n    }\n\n    if (typeof opts['boolean'] === 'boolean' && opts['boolean']) {\n      flags.allBools = true;\n    } else {\n      [].concat(opts['boolean']).filter(Boolean).forEach(function (key) {\n          flags.bools[key] = true;\n      });\n    }\n    \n    var aliases = {};\n    Object.keys(opts.alias || {}).forEach(function (key) {\n        aliases[key] = [].concat(opts.alias[key]);\n        aliases[key].forEach(function (x) {\n            aliases[x] = [key].concat(aliases[key].filter(function (y) {\n                return x !== y;\n            }));\n        });\n    });\n\n    [].concat(opts.string).filter(Boolean).forEach(function (key) {\n        flags.strings[key] = true;\n        if (aliases[key]) {\n            flags.strings[aliases[key]] = true;\n        }\n     });\n\n    var defaults = opts['default'] || {};\n    \n    var argv = { _ : [] };\n    Object.keys(flags.bools).forEach(function (key) {\n        setArg(key, defaults[key] === undefined ? false : defaults[key]);\n    });\n    \n    var notFlags = [];\n\n    if (args.indexOf('--') !== -1) {\n        notFlags = args.slice(args.indexOf('--')+1);\n        args = args.slice(0, args.indexOf('--'));\n    }\n\n    function argDefined(key, arg) {\n        return (flags.allBools && /^--[^=]+$/.test(arg)) ||\n            flags.strings[key] || flags.bools[key] || aliases[key];\n    }\n\n    function setArg (key, val, arg) {\n        if (arg && flags.unknownFn && !argDefined(key, arg)) {\n            if (flags.unknownFn(arg) === false) return;\n        }\n\n        var value = !flags.strings[key] && isNumber(val)\n            ? Number(val) : val\n        ;\n        setKey(argv, key.split('.'), value);\n        \n        (aliases[key] || []).forEach(function (x) {\n            setKey(argv, x.split('.'), value);\n        });\n    }\n\n    function setKey (obj, keys, value) {\n        var o = obj;\n        keys.slice(0,-1).forEach(function (key) {\n            if (o[key] === undefined) o[key] = {};\n            o = o[key];\n        });\n\n        var key = keys[keys.length - 1];\n        if (o[key] === undefined || flags.bools[key] || typeof o[key] === 'boolean') {\n            o[key] = value;\n        }\n        else if (Array.isArray(o[key])) {\n            o[key].push(value);\n        }\n        else {\n            o[key] = [ o[key], value ];\n        }\n    }\n    \n    function aliasIsBoolean(key) {\n      return aliases[key].some(function (x) {\n          return flags.bools[x];\n      });\n    }\n\n    for (var i = 0; i < args.length; i++) {\n        var arg = args[i];\n        \n        if (/^--.+=/.test(arg)) {\n            // Using [\\s\\S] instead of . because js doesn't support the\n            // 'dotall' regex modifier. See:\n            // http://stackoverflow.com/a/1068308/13216\n            var m = arg.match(/^--([^=]+)=([\\s\\S]*)$/);\n            var key = m[1];\n            var value = m[2];\n            if (flags.bools[key]) {\n                value = value !== 'false';\n            }\n            setArg(key, value, arg);\n        }\n        else if (/^--no-.+/.test(arg)) {\n            var key = arg.match(/^--no-(.+)/)[1];\n            setArg(key, false, arg);\n        }\n        else if (/^--.+/.test(arg)) {\n            var key = arg.match(/^--(.+)/)[1];\n            var next = args[i + 1];\n            if (next !== undefined && !/^-/.test(next)\n            && !flags.bools[key]\n            && !flags.allBools\n            && (aliases[key] ? !aliasIsBoolean(key) : true)) {\n                setArg(key, next, arg);\n                i++;\n            }\n            else if (/^(true|false)$/.test(next)) {\n                setArg(key, next === 'true', arg);\n                i++;\n            }\n            else {\n                setArg(key, flags.strings[key] ? '' : true, arg);\n            }\n        }\n        else if (/^-[^-]+/.test(arg)) {\n            var letters = arg.slice(1,-1).split('');\n            \n            var broken = false;\n            for (var j = 0; j < letters.length; j++) {\n                var next = arg.slice(j+2);\n                \n                if (next === '-') {\n                    setArg(letters[j], next, arg)\n                    continue;\n                }\n                \n                if (/[A-Za-z]/.test(letters[j]) && /=/.test(next)) {\n                    setArg(letters[j], next.split('=')[1], arg);\n                    broken = true;\n                    break;\n                }\n                \n                if (/[A-Za-z]/.test(letters[j])\n                && /-?\\d+(\\.\\d*)?(e-?\\d+)?$/.test(next)) {\n                    setArg(letters[j], next, arg);\n                    broken = true;\n                    break;\n                }\n                \n                if (letters[j+1] && letters[j+1].match(/\\W/)) {\n                    setArg(letters[j], arg.slice(j+2), arg);\n                    broken = true;\n                    break;\n                }\n                else {\n                    setArg(letters[j], flags.strings[letters[j]] ? '' : true, arg);\n                }\n            }\n            \n            var key = arg.slice(-1)[0];\n            if (!broken && key !== '-') {\n                if (args[i+1] && !/^(-|--)[^-]/.test(args[i+1])\n                && !flags.bools[key]\n                && (aliases[key] ? !aliasIsBoolean(key) : true)) {\n                    setArg(key, args[i+1], arg);\n                    i++;\n                }\n                else if (args[i+1] && /true|false/.test(args[i+1])) {\n                    setArg(key, args[i+1] === 'true', arg);\n                    i++;\n                }\n                else {\n                    setArg(key, flags.strings[key] ? '' : true, arg);\n                }\n            }\n        }\n        else {\n            if (!flags.unknownFn || flags.unknownFn(arg) !== false) {\n                argv._.push(\n                    flags.strings['_'] || !isNumber(arg) ? arg : Number(arg)\n                );\n            }\n            if (opts.stopEarly) {\n                argv._.push.apply(argv._, args.slice(i + 1));\n                break;\n            }\n        }\n    }\n    \n    Object.keys(defaults).forEach(function (key) {\n        if (!hasKey(argv, key.split('.'))) {\n            setKey(argv, key.split('.'), defaults[key]);\n            \n            (aliases[key] || []).forEach(function (x) {\n                setKey(argv, x.split('.'), defaults[key]);\n            });\n        }\n    });\n    \n    if (opts['--']) {\n        argv['--'] = new Array();\n        notFlags.forEach(function(key) {\n            argv['--'].push(key);\n        });\n    }\n    else {\n        notFlags.forEach(function(key) {\n            argv._.push(key);\n        });\n    }\n\n    return argv;\n};\n\nfunction hasKey (obj, keys) {\n    var o = obj;\n    keys.slice(0,-1).forEach(function (key) {\n        o = (o[key] || {});\n    });\n\n    var key = keys[keys.length - 1];\n    return key in o;\n}\n\nfunction isNumber (x) {\n    if (typeof x === 'number') return true;\n    if (/^0x[0-9a-f]+$/i.test(x)) return true;\n    return /^[-+]?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(e[-+]?\\d+)?$/.test(x);\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/minimist/index.js\n// module id = 48\n// module chunks = 0","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 49\n// module chunks = 0","import * as express from 'express';\r\nimport i18nSubUploadController from '../controllers/i18n.sub.upload.controller';\r\nimport i18nSupUploadController from '../controllers/i18n.sup.upload.controller';\r\nimport i18nSubDownloadController from '../controllers/i18n.sub.download.controller';\r\nimport i18nSupDownloadController from '../controllers/i18n.sup.download.controller';\r\nimport i18nDownloadTemplateService from '../services/i18n.template.download.service';\r\nvar router = express.Router();\r\nrouter.post('/upload/sub', i18nSubUploadController);\r\nrouter.post('/upload/sup', i18nSupUploadController);\r\nrouter.get('/download/template', i18nDownloadTemplateService);\r\nrouter.get('/download/sub/:format/:file/:i18nId', i18nSubDownloadController);\r\nrouter.get('/download/sup/:format/:file/:staticId', i18nSupDownloadController);\r\nexport default router;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/express/routes/i18n.route.ts\n// module id = 50\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 51\n// module chunks = 0","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport * as fromidable from 'formidable';\r\nimport { COMMON_CODE } from '../../../common/constants';\r\nimport { EXPRESS, EXPRESS_UPLOAD_TYPE } from '../../constant';\r\nimport i18nExcelService from '../services/i18n.excel.upload.service';\r\nimport i18nJsonService from '../services/i18n.json.upload.service';\r\nimport i18nPropertiesService from '../services/i18n.properties.upload.service';\r\nimport models from '../../database/models';\r\nvar moment = require('moment');\r\nimport * as properties from 'properties';\r\nimport * as fs from 'fs';\r\nvar TRUE = COMMON_CODE.TRUE, ERROR = COMMON_CODE.ERROR;\r\nvar RES = EXPRESS.RES;\r\nexport default function (req, res) {\r\n    var _this = this;\r\n    var form = new fromidable.IncomingForm();\r\n    form.encoding = 'utf-8';\r\n    form.keepExtensions = true;\r\n    form.maxFieldsSize = 200 * 1024 * 1024;\r\n    form.parse(req, function (err, fileds, file) { return __awaiter(_this, void 0, void 0, function () {\r\n        var fileName, i18nStoreData, err_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (err) {\r\n                        console.error(err.message);\r\n                        res.json({\r\n                            code: ERROR,\r\n                            msg: err.message,\r\n                            data: null\r\n                        });\r\n                        return [2];\r\n                    }\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 3, , 4]);\r\n                    fileName = file.multExcel.name;\r\n                    return [4, models.I18n.findById(fileds.i18nId)];\r\n                case 2:\r\n                    i18nStoreData = _a.sent();\r\n                    if (/\\.json$/.test(fileName)) {\r\n                        processUploadJsonData(i18nStoreData, file, res);\r\n                    }\r\n                    else if (/\\.xlsx$/.test(fileName)) {\r\n                        processUploadExcelData(i18nStoreData, file, res);\r\n                    }\r\n                    else if (/\\.properties$/.test(fileName)) {\r\n                        processUploadPropertiesData(i18nStoreData, file, res);\r\n                    }\r\n                    else {\r\n                        res.json({\r\n                            code: ERROR,\r\n                            msg: EXPRESS.RES.UPLOAD_FORMAT_ERR,\r\n                            data: null\r\n                        });\r\n                    }\r\n                    return [3, 4];\r\n                case 3:\r\n                    err_1 = _a.sent();\r\n                    console.error(err_1.message);\r\n                    res.json({\r\n                        code: ERROR,\r\n                        msg: err_1.message,\r\n                        data: null\r\n                    });\r\n                    return [3, 4];\r\n                case 4: return [2];\r\n            }\r\n        });\r\n    }); });\r\n}\r\nfunction processUploadJsonData(i18nStoreData, file, res) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var uploadJsonData, result;\r\n        return __generator(this, function (_a) {\r\n            try {\r\n                uploadJsonData = JSON.parse(fs.readFileSync(file.multExcel.path, 'utf-8').toString());\r\n                result = i18nJsonService.processUploadJson(uploadJsonData, i18nStoreData);\r\n                if (result.code === ERROR) {\r\n                    res.json(result);\r\n                    return [2];\r\n                }\r\n                Object.assign(i18nStoreData, {\r\n                    i18nData: JSON.stringify(result.data),\r\n                    i18nImportTime: moment().format('YYYY-MM-DD HH:mm'),\r\n                    i18nImportFileName: file.multExcel.name\r\n                });\r\n                i18nStoreData.save();\r\n                res.json({\r\n                    code: TRUE,\r\n                    msg: RES.UPLOAD_SUCCESS,\r\n                    data: null\r\n                });\r\n            }\r\n            catch (err) {\r\n                console.error(err.message);\r\n                res.json({\r\n                    code: ERROR,\r\n                    msg: err.message,\r\n                    data: null\r\n                });\r\n            }\r\n            return [2];\r\n        });\r\n    });\r\n}\r\nfunction processUploadExcelData(i18nStoreData, file, res) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var result, err_2;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    _a.trys.push([0, 2, , 3]);\r\n                    result = i18nExcelService.processUploadExcel(file);\r\n                    if (result.code === ERROR) {\r\n                        res.json(result);\r\n                        return [2];\r\n                    }\r\n                    result = i18nExcelService.processReplaceI18nData(result.data, i18nStoreData, EXPRESS_UPLOAD_TYPE.COVER);\r\n                    if (result.code === ERROR) {\r\n                        res.json(result);\r\n                        return [2];\r\n                    }\r\n                    Object.assign(i18nStoreData, {\r\n                        i18nData: JSON.stringify(result.data),\r\n                        i18nImportTime: moment().format('YYYY-MM-DD HH:mm'),\r\n                        i18nImportFileName: file.multExcel.name\r\n                    });\r\n                    return [4, i18nStoreData.save()];\r\n                case 1:\r\n                    _a.sent();\r\n                    res.json({\r\n                        code: TRUE,\r\n                        msg: RES.UPLOAD_SUCCESS,\r\n                        data: null\r\n                    });\r\n                    return [3, 3];\r\n                case 2:\r\n                    err_2 = _a.sent();\r\n                    console.error(err_2.message);\r\n                    res.json({\r\n                        code: ERROR,\r\n                        msg: err_2.message,\r\n                        data: null\r\n                    });\r\n                    return [3, 3];\r\n                case 3: return [2];\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction processUploadPropertiesData(i18nStoreData, file, res) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var _this = this;\r\n        return __generator(this, function (_a) {\r\n            properties.parse(file.multExcel.path, { path: true }, function (err, uploadPropertiesData) { return __awaiter(_this, void 0, void 0, function () {\r\n                var result, err_3;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (err) {\r\n                                console.error(err.message);\r\n                                res.json({\r\n                                    code: ERROR,\r\n                                    msg: err.message,\r\n                                    data: null\r\n                                });\r\n                            }\r\n                            _a.label = 1;\r\n                        case 1:\r\n                            _a.trys.push([1, 3, , 4]);\r\n                            result = i18nPropertiesService.processUploadProperties(uploadPropertiesData, i18nStoreData);\r\n                            if (result.code === ERROR) {\r\n                                res.json(result);\r\n                                return [2];\r\n                            }\r\n                            Object.assign(i18nStoreData, {\r\n                                i18nData: JSON.stringify(result.data.i18nUploadStoreData),\r\n                                i18nImportTime: moment().format('YYYY-MM-DD HH:mm'),\r\n                                i18nImportFileName: file.multExcel.name\r\n                            });\r\n                            return [4, i18nStoreData.save()];\r\n                        case 2:\r\n                            _a.sent();\r\n                            res.json({\r\n                                code: TRUE,\r\n                                msg: RES.UPLOAD_SUCCESS,\r\n                                data: result.data.i18nUploadErrData\r\n                            });\r\n                            return [3, 4];\r\n                        case 3:\r\n                            err_3 = _a.sent();\r\n                            console.error(err_3.message);\r\n                            res.json({\r\n                                code: ERROR,\r\n                                msg: err_3.message,\r\n                                data: null\r\n                            });\r\n                            return [3, 4];\r\n                        case 4: return [2];\r\n                    }\r\n                });\r\n            }); });\r\n            return [2];\r\n        });\r\n    });\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/express/controllers/i18n.sub.upload.controller.ts\n// module id = 52\n// module chunks = 0","var __values = (this && this.__values) || function (o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n};\r\nimport { COMMON_CODE } from '../../../common/constants';\r\nimport { EXPRESS } from '../../constant';\r\nimport { STATIC_I18N_TABLE_COLUMNS } from '../../../common/constants/type';\r\nvar TRUE = COMMON_CODE.TRUE, ERROR = COMMON_CODE.ERROR;\r\nvar RES = EXPRESS.RES;\r\nvar STATIC_I18N_TABLE_LANGUAGE_COLUMNS = STATIC_I18N_TABLE_COLUMNS.slice(7);\r\nexport default {\r\n    validateJsonFormat: function (i18nUploadData) {\r\n        if (Object.prototype.toString.call(i18nUploadData) !== \"[object Object]\") {\r\n            return {\r\n                code: ERROR,\r\n                msg: RES.UPLOAD_JSON_ERR,\r\n                data: null\r\n            };\r\n        }\r\n        if (!Object.keys(i18nUploadData).length) {\r\n            return {\r\n                code: ERROR,\r\n                msg: RES.UPLOAD_JSON_EMPTY,\r\n                data: null\r\n            };\r\n        }\r\n        return {\r\n            code: TRUE,\r\n            msg: '',\r\n            data: null\r\n        };\r\n    },\r\n    processJsonFlat: function (i18nVersion, i18nUploadFlatData, i18nUploadData, Key) {\r\n        if (Key === void 0) { Key = ''; }\r\n        var e_1, _a;\r\n        var currentKey = '';\r\n        try {\r\n            for (var _b = __values(Object.keys(i18nUploadData)), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                var key = _c.value;\r\n                var chinese = i18nUploadData[key];\r\n                currentKey += Key + (Key === '' ? key : \".\" + key);\r\n                if (Object.prototype.toString.call(chinese) == \"[object Object]\") {\r\n                    this.processJsonFlat(i18nVersion, i18nUploadFlatData, chinese, currentKey);\r\n                }\r\n                else {\r\n                    i18nUploadFlatData.push({\r\n                        key: currentKey,\r\n                        chinese: chinese,\r\n                        version: i18nVersion\r\n                    });\r\n                }\r\n                currentKey = '';\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n    },\r\n    processSubReplaceI18nData: function (i18nUploadData, i18nStoreData) {\r\n        var e_2, _a;\r\n        var isTranslated = i18nStoreData.some(function (i18n) {\r\n            var e_3, _a;\r\n            try {\r\n                for (var STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1 = __values(STATIC_I18N_TABLE_LANGUAGE_COLUMNS), STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1_1 = STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1.next(); !STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1_1.done; STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1_1 = STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1.next()) {\r\n                    var key = STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1_1.value;\r\n                    if (!i18n[key])\r\n                        continue;\r\n                    return true;\r\n                }\r\n            }\r\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\r\n            finally {\r\n                try {\r\n                    if (STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1_1 && !STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1_1.done && (_a = STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1.return)) _a.call(STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1);\r\n                }\r\n                finally { if (e_3) throw e_3.error; }\r\n            }\r\n            return false;\r\n        });\r\n        var isCompletelyNew = true;\r\n        var _loop_1 = function (i18n) {\r\n            var e_4, _a;\r\n            var foundUploadData = i18nUploadData.find(function (upload) {\r\n                return upload.key === i18n.key && upload.chinese === i18n.chinese;\r\n            });\r\n            if (!foundUploadData)\r\n                return \"continue\";\r\n            isCompletelyNew = false;\r\n            if (!isTranslated)\r\n                return \"continue\";\r\n            try {\r\n                for (var STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2 = __values(STATIC_I18N_TABLE_LANGUAGE_COLUMNS), STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2_1 = STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2.next(); !STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2_1.done; STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2_1 = STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2.next()) {\r\n                    var key = STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2_1.value;\r\n                    if (!i18n[key])\r\n                        continue;\r\n                    foundUploadData[key] = i18n[key];\r\n                }\r\n            }\r\n            catch (e_4_1) { e_4 = { error: e_4_1 }; }\r\n            finally {\r\n                try {\r\n                    if (STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2_1 && !STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2_1.done && (_a = STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2.return)) _a.call(STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2);\r\n                }\r\n                finally { if (e_4) throw e_4.error; }\r\n            }\r\n        };\r\n        try {\r\n            for (var i18nStoreData_1 = __values(i18nStoreData), i18nStoreData_1_1 = i18nStoreData_1.next(); !i18nStoreData_1_1.done; i18nStoreData_1_1 = i18nStoreData_1.next()) {\r\n                var i18n = i18nStoreData_1_1.value;\r\n                _loop_1(i18n);\r\n            }\r\n        }\r\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n        finally {\r\n            try {\r\n                if (i18nStoreData_1_1 && !i18nStoreData_1_1.done && (_a = i18nStoreData_1.return)) _a.call(i18nStoreData_1);\r\n            }\r\n            finally { if (e_2) throw e_2.error; }\r\n        }\r\n        return isCompletelyNew\r\n            ? {\r\n                code: ERROR,\r\n                msg: RES.UPLOAD_COMPLETE_NEW,\r\n                data: null\r\n            }\r\n            : {\r\n                code: TRUE,\r\n                msg: '',\r\n                data: i18nUploadData\r\n            };\r\n    },\r\n    processUploadJson: function (i18nUploadData, i18nStoreData) {\r\n        try {\r\n            var result = this.validateJsonFormat(i18nUploadData);\r\n            if (result.code === ERROR) {\r\n                return result;\r\n            }\r\n            var i18nUploadFlatData = [];\r\n            this.processJsonFlat(i18nStoreData.i18nVersion, i18nUploadFlatData, i18nUploadData);\r\n            var i18nData = i18nStoreData.i18nData;\r\n            !i18nData\r\n                ? result.data = i18nUploadFlatData\r\n                : result = this.processSubReplaceI18nData(i18nUploadFlatData, JSON.parse(i18nData));\r\n            return result;\r\n        }\r\n        catch (err) {\r\n            console.error(err.message);\r\n            return {\r\n                code: ERROR,\r\n                msg: err.message,\r\n                data: null\r\n            };\r\n        }\r\n    }\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/express/services/i18n.json.upload.service.ts\n// module id = 53\n// module chunks = 0","var __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar __values = (this && this.__values) || function (o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n};\r\nimport { COMMON_CODE } from '../../../common/constants';\r\nimport { EXPRESS } from '../../constant';\r\nimport { STATIC_I18N_TABLE_COLUMNS } from '../../../common/constants/type';\r\nvar TRUE = COMMON_CODE.TRUE, ERROR = COMMON_CODE.ERROR;\r\nvar RES = EXPRESS.RES;\r\nvar STATIC_I18N_TABLE_LANGUAGE_COLUMNS = STATIC_I18N_TABLE_COLUMNS.slice(7);\r\nexport default {\r\n    validatePropertiesFormat: function (i18nUploadData) {\r\n        if (!Object.keys(i18nUploadData).length) {\r\n            return {\r\n                code: ERROR,\r\n                msg: RES.UPLOAD_PROPERTIES_EMPTY,\r\n                data: null\r\n            };\r\n        }\r\n        return {\r\n            code: TRUE,\r\n            msg: '',\r\n            data: null\r\n        };\r\n    },\r\n    transformPropertiesToArray: function (i18nUploadData, version) {\r\n        var e_1, _a;\r\n        var i18nUploadErrData = [];\r\n        var i18nUploadStoreData = [];\r\n        try {\r\n            for (var _b = __values(Object.keys(i18nUploadData)), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                var key = _c.value;\r\n                var chinese = i18nUploadData[key];\r\n                chinese\r\n                    ? i18nUploadStoreData.push({\r\n                        chinese: chinese,\r\n                        key: key,\r\n                        version: version\r\n                    })\r\n                    : i18nUploadErrData.push(key);\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        return i18nUploadStoreData.length\r\n            ? {\r\n                code: TRUE,\r\n                msg: '',\r\n                data: {\r\n                    i18nUploadErrData: i18nUploadErrData,\r\n                    i18nUploadStoreData: i18nUploadStoreData\r\n                }\r\n            }\r\n            : {\r\n                code: ERROR,\r\n                msg: RES.UPLOAD_PROPERTIES_NO_VALUE,\r\n                data: {\r\n                    i18nUploadErrData: i18nUploadErrData\r\n                }\r\n            };\r\n    },\r\n    processSubReplaceI18nData: function (i18nUploadData, i18nStoreData) {\r\n        var e_2, _a;\r\n        var isTranslated = i18nStoreData.some(function (i18n) {\r\n            var e_3, _a;\r\n            try {\r\n                for (var STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1 = __values(STATIC_I18N_TABLE_LANGUAGE_COLUMNS), STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1_1 = STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1.next(); !STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1_1.done; STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1_1 = STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1.next()) {\r\n                    var key = STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1_1.value;\r\n                    if (!i18n[key])\r\n                        continue;\r\n                    return true;\r\n                }\r\n            }\r\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\r\n            finally {\r\n                try {\r\n                    if (STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1_1 && !STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1_1.done && (_a = STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1.return)) _a.call(STATIC_I18N_TABLE_LANGUAGE_COLUMNS_1);\r\n                }\r\n                finally { if (e_3) throw e_3.error; }\r\n            }\r\n            return false;\r\n        });\r\n        var isCompletelyNew = true;\r\n        var _loop_1 = function (i18n) {\r\n            var e_4, _a;\r\n            var foundUploadData = i18nUploadData.find(function (upload) {\r\n                return upload.key === i18n.key && upload.chinese === i18n.chinese;\r\n            });\r\n            if (!foundUploadData)\r\n                return \"continue\";\r\n            isCompletelyNew = false;\r\n            if (!isTranslated)\r\n                return \"continue\";\r\n            try {\r\n                for (var STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2 = __values(STATIC_I18N_TABLE_LANGUAGE_COLUMNS), STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2_1 = STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2.next(); !STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2_1.done; STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2_1 = STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2.next()) {\r\n                    var key = STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2_1.value;\r\n                    if (!i18n[key])\r\n                        continue;\r\n                    foundUploadData[key] = i18n[key];\r\n                }\r\n            }\r\n            catch (e_4_1) { e_4 = { error: e_4_1 }; }\r\n            finally {\r\n                try {\r\n                    if (STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2_1 && !STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2_1.done && (_a = STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2.return)) _a.call(STATIC_I18N_TABLE_LANGUAGE_COLUMNS_2);\r\n                }\r\n                finally { if (e_4) throw e_4.error; }\r\n            }\r\n        };\r\n        try {\r\n            for (var i18nStoreData_1 = __values(i18nStoreData), i18nStoreData_1_1 = i18nStoreData_1.next(); !i18nStoreData_1_1.done; i18nStoreData_1_1 = i18nStoreData_1.next()) {\r\n                var i18n = i18nStoreData_1_1.value;\r\n                _loop_1(i18n);\r\n            }\r\n        }\r\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n        finally {\r\n            try {\r\n                if (i18nStoreData_1_1 && !i18nStoreData_1_1.done && (_a = i18nStoreData_1.return)) _a.call(i18nStoreData_1);\r\n            }\r\n            finally { if (e_2) throw e_2.error; }\r\n        }\r\n        return isCompletelyNew\r\n            ? {\r\n                code: ERROR,\r\n                msg: RES.UPLOAD_COMPLETE_NEW,\r\n                data: null\r\n            }\r\n            : {\r\n                code: TRUE,\r\n                msg: '',\r\n                data: {\r\n                    i18nUploadStoreData: i18nUploadData\r\n                }\r\n            };\r\n    },\r\n    processUploadProperties: function (i18nUploadData, i18nStoreData) {\r\n        try {\r\n            var result = this.validatePropertiesFormat(i18nUploadData);\r\n            if (result.code === ERROR) {\r\n                return result;\r\n            }\r\n            result = this.transformPropertiesToArray(i18nUploadData, i18nStoreData.i18nVersion);\r\n            if (result.code === ERROR) {\r\n                return result;\r\n            }\r\n            var i18nData = i18nStoreData.i18nData;\r\n            var data = result.data;\r\n            if (i18nData) {\r\n                result = this.processSubReplaceI18nData(data.i18nUploadStoreData, JSON.parse(i18nData));\r\n            }\r\n            if (result.code !== ERROR) {\r\n                result.data = __assign({}, data, result.data);\r\n            }\r\n            return result;\r\n        }\r\n        catch (err) {\r\n            console.error(err.message);\r\n            return {\r\n                code: ERROR,\r\n                msg: err.message,\r\n                data: null\r\n            };\r\n        }\r\n    }\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/express/services/i18n.properties.upload.service.ts\n// module id = 54\n// module chunks = 0","var __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __values = (this && this.__values) || function (o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n};\r\nimport * as fromidable from 'formidable';\r\nimport { COMMON_CODE } from '../../../common/constants';\r\nimport { EXPRESS, EXPRESS_UPLOAD_TYPE } from '../../constant';\r\nimport models from '../../database/models';\r\nimport i18nExcelService from '../services/i18n.excel.upload.service';\r\nvar moment = require('moment');\r\nvar TRUE = COMMON_CODE.TRUE, ERROR = COMMON_CODE.ERROR;\r\nvar RES = EXPRESS.RES;\r\nexport default function (req, res) {\r\n    var _this = this;\r\n    var form = new fromidable.IncomingForm();\r\n    form.encoding = 'utf-8';\r\n    form.keepExtensions = true;\r\n    form.maxFieldsSize = 200 * 1024 * 1024;\r\n    form.parse(req, function (err, fileds, file) { return __awaiter(_this, void 0, void 0, function () {\r\n        var e_1, _a, e_2, _b, fileName, i18nStoreDatas, result, i18nStoreMatchUpload, i18nStoreDatas_1, i18nStoreDatas_1_1, i18nStoreData, resultData, uploadErrData, i18nStoreMatchUpload_1, i18nStoreMatchUpload_1_1, data, i18nStoreData, e_2_1, err_1;\r\n        return __generator(this, function (_c) {\r\n            switch (_c.label) {\r\n                case 0:\r\n                    if (err) {\r\n                        console.error(err.message);\r\n                        res.json({\r\n                            code: ERROR,\r\n                            msg: err.message,\r\n                            data: null\r\n                        });\r\n                        return [2];\r\n                    }\r\n                    _c.label = 1;\r\n                case 1:\r\n                    _c.trys.push([1, 13, , 14]);\r\n                    fileName = file.multExcel.name;\r\n                    return [4, models.I18n.find({ staticId: fileds.staticId })];\r\n                case 2:\r\n                    i18nStoreDatas = _c.sent();\r\n                    if (!i18nStoreDatas\r\n                        || !i18nStoreDatas.length\r\n                        || i18nStoreDatas.every(function (i18n) { return !i18n.i18nData; })) {\r\n                        res.json({\r\n                            code: ERROR,\r\n                            msg: RES.UPLOAD_SUP_EMPTY,\r\n                            data: null\r\n                        });\r\n                        return [2];\r\n                    }\r\n                    if (!/\\.xlsx$/.test(fileName)) return [3, 11];\r\n                    result = i18nExcelService.processUploadExcel(file);\r\n                    if (result.code === ERROR) {\r\n                        res.json(result);\r\n                        return [2];\r\n                    }\r\n                    i18nStoreMatchUpload = [];\r\n                    try {\r\n                        for (i18nStoreDatas_1 = __values(i18nStoreDatas), i18nStoreDatas_1_1 = i18nStoreDatas_1.next(); !i18nStoreDatas_1_1.done; i18nStoreDatas_1_1 = i18nStoreDatas_1.next()) {\r\n                            i18nStoreData = i18nStoreDatas_1_1.value;\r\n                            if (!i18nStoreData.i18nData)\r\n                                continue;\r\n                            resultData = i18nExcelService.processReplaceI18nData(result.data, i18nStoreData, EXPRESS_UPLOAD_TYPE.SKIP);\r\n                            if (resultData.code === ERROR) {\r\n                                res.json(resultData);\r\n                                return [2];\r\n                            }\r\n                            i18nStoreMatchUpload.push(__assign({ i18nStoreData: i18nStoreData }, resultData.data));\r\n                        }\r\n                    }\r\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n                    finally {\r\n                        try {\r\n                            if (i18nStoreDatas_1_1 && !i18nStoreDatas_1_1.done && (_a = i18nStoreDatas_1.return)) _a.call(i18nStoreDatas_1);\r\n                        }\r\n                        finally { if (e_1) throw e_1.error; }\r\n                    }\r\n                    uploadErrData = [];\r\n                    _c.label = 3;\r\n                case 3:\r\n                    _c.trys.push([3, 8, 9, 10]);\r\n                    i18nStoreMatchUpload_1 = __values(i18nStoreMatchUpload), i18nStoreMatchUpload_1_1 = i18nStoreMatchUpload_1.next();\r\n                    _c.label = 4;\r\n                case 4:\r\n                    if (!!i18nStoreMatchUpload_1_1.done) return [3, 7];\r\n                    data = i18nStoreMatchUpload_1_1.value;\r\n                    i18nStoreData = data.i18nStoreData;\r\n                    uploadErrData = uploadErrData.concat(data.uploadErrI18nData);\r\n                    Object.assign(i18nStoreData, {\r\n                        i18nData: JSON.stringify(data.uploadReplaceI18nData),\r\n                        i18nImportTime: moment().format('YYYY-MM-DD HH:mm')\r\n                    });\r\n                    return [4, i18nStoreData.save()];\r\n                case 5:\r\n                    _c.sent();\r\n                    _c.label = 6;\r\n                case 6:\r\n                    i18nStoreMatchUpload_1_1 = i18nStoreMatchUpload_1.next();\r\n                    return [3, 4];\r\n                case 7: return [3, 10];\r\n                case 8:\r\n                    e_2_1 = _c.sent();\r\n                    e_2 = { error: e_2_1 };\r\n                    return [3, 10];\r\n                case 9:\r\n                    try {\r\n                        if (i18nStoreMatchUpload_1_1 && !i18nStoreMatchUpload_1_1.done && (_b = i18nStoreMatchUpload_1.return)) _b.call(i18nStoreMatchUpload_1);\r\n                    }\r\n                    finally { if (e_2) throw e_2.error; }\r\n                    return [7];\r\n                case 10:\r\n                    res.json({\r\n                        code: TRUE,\r\n                        msg: RES.UPLOAD_SUCCESS,\r\n                        data: uploadErrData\r\n                    });\r\n                    return [3, 12];\r\n                case 11:\r\n                    res.json({\r\n                        code: ERROR,\r\n                        msg: RES.UPLOAD_FORMAT_ERR,\r\n                        data: null\r\n                    });\r\n                    _c.label = 12;\r\n                case 12: return [3, 14];\r\n                case 13:\r\n                    err_1 = _c.sent();\r\n                    console.error(err_1.message);\r\n                    res.json({\r\n                        code: ERROR,\r\n                        msg: err_1.message,\r\n                        data: null\r\n                    });\r\n                    return [3, 14];\r\n                case 14: return [2];\r\n            }\r\n        });\r\n    }); });\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/express/controllers/i18n.sup.upload.controller.ts\n// module id = 55\n// module chunks = 0","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport models from '../../database/models';\r\nimport { COMMON_CODE } from '../../../common/constants';\r\nimport { STATIC_I18N_DOWNLOAD_TYPE } from '../../../common/constants';\r\nimport i18nExcelService from '../services/i18n.excel.download.service';\r\nimport i18nJsonService from '../services/i18n.json.download.service';\r\nimport i18nPropertiesService from '../services/i18n.properties.download.service';\r\nimport { delFile } from '../../utils';\r\nvar TRUE = COMMON_CODE.TRUE, ERROR = COMMON_CODE.ERROR;\r\nexport default function (req, res) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var params, file, i18nStoreData, i18nData, err_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    _a.trys.push([0, 2, , 3]);\r\n                    params = req.params;\r\n                    file = params.file;\r\n                    return [4, models.I18n.findById(params.i18nId)];\r\n                case 1:\r\n                    i18nStoreData = _a.sent();\r\n                    i18nData = JSON.parse(i18nStoreData.i18nData);\r\n                    switch (params.format) {\r\n                        case STATIC_I18N_DOWNLOAD_TYPE[0].value:\r\n                            processDownloadExcel(i18nData, file, res);\r\n                            break;\r\n                        case STATIC_I18N_DOWNLOAD_TYPE[1].value:\r\n                            i18nJsonService.processDownloadJson(i18nData, file, res);\r\n                            break;\r\n                        case STATIC_I18N_DOWNLOAD_TYPE[2].value:\r\n                            i18nPropertiesService.processDownloadProperties(i18nData, file, res);\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    return [3, 3];\r\n                case 2:\r\n                    err_1 = _a.sent();\r\n                    console.error(err_1.message);\r\n                    res.json({\r\n                        code: ERROR,\r\n                        msg: err_1.message,\r\n                        data: null\r\n                    });\r\n                    return [3, 3];\r\n                case 3: return [2];\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction processDownloadExcel(i18nStoreData, file, res) {\r\n    i18nExcelService.processDownloadExcel(i18nStoreData, file, function (code, msg, data) {\r\n        if (code === TRUE) {\r\n            res.download(data, function (err) {\r\n                if (err) {\r\n                    res.send(err.message);\r\n                }\r\n                delFile(data);\r\n            });\r\n        }\r\n        else {\r\n            res.send(msg);\r\n        }\r\n    });\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/express/controllers/i18n.sub.download.controller.ts\n// module id = 56\n// module chunks = 0","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __values = (this && this.__values) || function (o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n};\r\nimport { STATIC_I18N_DOWNLOAD_TYPE } from '../../../common/constants';\r\nimport i18nExcelService from '../services/i18n.excel.download.service';\r\nimport i18nJsonService from '../services/i18n.json.download.service';\r\nimport i18nPropertiesService from '../services/i18n.properties.download.service';\r\nimport { COMMON_CODE } from '../../../common/constants';\r\nimport models from '../../database/models';\r\nimport { delFile } from '../../utils';\r\nvar TRUE = COMMON_CODE.TRUE, ERROR = COMMON_CODE.ERROR;\r\nexport default function (req, res) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var e_1, _a, params, file, i18nStoreDatas, i18nStoreData, i18nStoreDatas_1, i18nStoreDatas_1_1, data, err_1;\r\n        return __generator(this, function (_b) {\r\n            switch (_b.label) {\r\n                case 0:\r\n                    _b.trys.push([0, 2, , 3]);\r\n                    params = req.params;\r\n                    file = params.file;\r\n                    return [4, models.I18n.find({ staticId: params.staticId })];\r\n                case 1:\r\n                    i18nStoreDatas = _b.sent();\r\n                    i18nStoreData = [];\r\n                    try {\r\n                        for (i18nStoreDatas_1 = __values(i18nStoreDatas), i18nStoreDatas_1_1 = i18nStoreDatas_1.next(); !i18nStoreDatas_1_1.done; i18nStoreDatas_1_1 = i18nStoreDatas_1.next()) {\r\n                            data = i18nStoreDatas_1_1.value;\r\n                            i18nStoreData = i18nStoreData.concat(JSON.parse(data.i18nData));\r\n                        }\r\n                    }\r\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n                    finally {\r\n                        try {\r\n                            if (i18nStoreDatas_1_1 && !i18nStoreDatas_1_1.done && (_a = i18nStoreDatas_1.return)) _a.call(i18nStoreDatas_1);\r\n                        }\r\n                        finally { if (e_1) throw e_1.error; }\r\n                    }\r\n                    switch (params.format) {\r\n                        case STATIC_I18N_DOWNLOAD_TYPE[0].value:\r\n                            processDownloadExcel(i18nStoreData, file, res);\r\n                            break;\r\n                        case STATIC_I18N_DOWNLOAD_TYPE[1].value:\r\n                            i18nJsonService.processDownloadJson(i18nStoreData, file, res);\r\n                            break;\r\n                        case STATIC_I18N_DOWNLOAD_TYPE[2].value:\r\n                            i18nPropertiesService.processDownloadProperties(i18nStoreData, file, res);\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    return [3, 3];\r\n                case 2:\r\n                    err_1 = _b.sent();\r\n                    console.error(err_1.message);\r\n                    res.json({\r\n                        code: ERROR,\r\n                        msg: err_1.message,\r\n                        data: null\r\n                    });\r\n                    return [3, 3];\r\n                case 3: return [2];\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction processDownloadExcel(i18nStoreData, file, res) {\r\n    i18nExcelService.processDownloadExcel(i18nStoreData, file, function (code, msg, data) {\r\n        if (code === TRUE) {\r\n            res.download(data, function (err) {\r\n                if (err) {\r\n                    res.send(err.message);\r\n                }\r\n                delFile(data);\r\n            });\r\n        }\r\n        else {\r\n            res.send(msg);\r\n        }\r\n    });\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/express/controllers/i18n.sup.download.controller.ts\n// module id = 57\n// module chunks = 0","import * as path from 'path';\r\nexport default function (req, res) {\r\n    res.download(path.join(__dirname, 'files/多语言模板文件.xlsx'));\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/express/services/i18n.template.download.service.ts\n// module id = 58\n// module chunks = 0"],"sourceRoot":""}